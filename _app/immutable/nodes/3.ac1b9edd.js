import{s as Kt,n as Ct,o as de,a as uo,b as ye,d as Fe,r as Pr,h as fo}from"../chunks/scheduler.8d39d98f.js";import{S as re,i as ie,E as U,F as j,j as w,f as g,l as Ut,a as X,g as A,h as N,k as u,y as m,e as _e,m as Z,n as Q,o as pt,s as W,H as te,c as K,G as ee,r as le,u as ce,v as ue,d as Lt,p as mn,b as gn,t as Rt,B as Ke,w as fe,I as Ei,A as he,x as Ee,C as zn,J as qn}from"../chunks/index.b8bdbd98.js";import{e as ne}from"../chunks/each.e59479a4.js";import{a as rn,$ as ho}from"../chunks/runtime.b3457050.js";import{b as po}from"../chunks/paths.ad1a69bd.js";import"../chunks/i18n.5de6e185.js";function Rn(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mo(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $a(t){let e,n,r;t.length!==2?(e=Rn,n=(s,c)=>Rn(t(s),c),r=(s,c)=>t(s)-c):(e=t===Rn||t===mo?t:go,n=t,r=t);function i(s,c,l=0,p=s.length){if(l<p){if(e(c,c)!==0)return p;do{const d=l+p>>>1;n(s[d],c)<0?l=d+1:p=d}while(l<p)}return l}function a(s,c,l=0,p=s.length){if(l<p){if(e(c,c)!==0)return p;do{const d=l+p>>>1;n(s[d],c)<=0?l=d+1:p=d}while(l<p)}return l}function o(s,c,l=0,p=s.length){const d=i(s,c,l,p-1);return d>l&&r(s[d-1],c)>-r(s[d],c)?d-1:d}return{left:i,center:o,right:a}}function go(){return 0}function _o(t){return t===null?NaN:+t}const vo=$a(Rn),yo=vo.right;$a(_o).center;const Ma=yo;function xo(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&++n}return n}function cr(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class $i extends Map{constructor(e,n=ko){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Mi(this,e))}has(e){return super.has(Mi(this,e))}set(e,n){return super.set(wo(this,e),n)}delete(e){return super.delete(bo(this,e))}}function Mi({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function wo({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function bo({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ko(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Eo(t){return t}var $o=Array.prototype,Mo=$o.slice;function ur(t){return()=>t}const So=Math.sqrt(50),Ao=Math.sqrt(10),No=Math.sqrt(2);function Xn(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=So?10:a>=Ao?5:a>=No?2:1;let s,c,l;return i<0?(l=Math.pow(10,-i)/o,s=Math.round(t*l),c=Math.round(e*l),s/l<t&&++s,c/l>e&&--c,l=-l):(l=Math.pow(10,i)*o,s=Math.round(t/l),c=Math.round(e/l),s*l<t&&++s,c*l>e&&--c),c<s&&.5<=n&&n<2?Xn(t,e,n*2):[s,c,l]}function Sa(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Xn(e,t,n):Xn(t,e,n);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(r)if(o<0)for(let l=0;l<s;++l)c[l]=(a-l)/-o;else for(let l=0;l<s;++l)c[l]=(a-l)*o;else if(o<0)for(let l=0;l<s;++l)c[l]=(i+l)/-o;else for(let l=0;l<s;++l)c[l]=(i+l)*o;return c}function Qe(t,e,n){return e=+e,t=+t,n=+n,Xn(t,e,n)[2]}function Co(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Qe(e,t,n):Qe(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Io(t,e,n){let r;for(;;){const i=Qe(t,e,n);if(i===r||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function To(t){return Math.max(1,Math.ceil(Math.log(xo(t))/Math.LN2)+1)}function Si(){var t=Eo,e=cr,n=To;function r(i){Array.isArray(i)||(i=Array.from(i));var a,o=i.length,s,c,l=new Array(o);for(a=0;a<o;++a)l[a]=t(i[a],a,i);var p=e(l),d=p[0],f=p[1],h=n(l,d,f);if(!Array.isArray(h)){const $=f,b=+h;if(e===cr&&([d,f]=Io(d,f,b)),h=Sa(d,f,b),h[0]<=d&&(c=Qe(d,f,b)),h[h.length-1]>=f)if($>=f&&e===cr){const M=Qe(d,f,b);isFinite(M)&&(M>0?f=(Math.floor(f/M)+1)*M:M<0&&(f=(Math.ceil(f*-M)+1)/-M))}else h.pop()}for(var _=h.length,v=0,y=_;h[v]<=d;)++v;for(;h[y-1]>f;)--y;(v||y<_)&&(h=h.slice(v,y),_=y-v);var x=new Array(_+1),E;for(a=0;a<=_;++a)E=x[a]=[],E.x0=a>0?h[a-1]:d,E.x1=a<_?h[a]:f;if(isFinite(c)){if(c>0)for(a=0;a<o;++a)(s=l[a])!=null&&d<=s&&s<=f&&x[Math.min(_,Math.floor((s-d)/c))].push(i[a]);else if(c<0){for(a=0;a<o;++a)if((s=l[a])!=null&&d<=s&&s<=f){const $=Math.floor((d-s)*c);x[Math.min(_,$+(h[$]<=s))].push(i[a])}}}else for(a=0;a<o;++a)(s=l[a])!=null&&d<=s&&s<=f&&x[Ma(h,s,0,_)].push(i[a]);return x}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:ur(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:ur([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:ur(Array.isArray(i)?Mo.call(i):i),r):n},r}function Gn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Yn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function zo(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function Un(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Do(t){return t}var fr=1,hr=2,Mr=3,fn=4,Ai=1e-6;function Vo(t){return"translate("+t+",0)"}function Lo(t){return"translate(0,"+t+")"}function Po(t){return e=>+t(e)}function Ro(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Fo(){return!this.__axis}function Aa(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=t===fr||t===fn?-1:1,p=t===fn||t===hr?"x":"y",d=t===fr||t===Mr?Vo:Lo;function f(h){var _=r??(e.ticks?e.ticks.apply(e,n):e.domain()),v=i??(e.tickFormat?e.tickFormat.apply(e,n):Do),y=Math.max(a,0)+s,x=e.range(),E=+x[0]+c,$=+x[x.length-1]+c,b=(e.bandwidth?Ro:Po)(e.copy(),c),M=h.selection?h.selection():h,R=M.selectAll(".domain").data([null]),B=M.selectAll(".tick").data(_,e).order(),I=B.exit(),z=B.enter().append("g").attr("class","tick"),C=B.select("line"),k=B.select("text");R=R.merge(R.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),B=B.merge(z),C=C.merge(z.append("line").attr("stroke","currentColor").attr(p+"2",l*a)),k=k.merge(z.append("text").attr("fill","currentColor").attr(p,l*y).attr("dy",t===fr?"0em":t===Mr?"0.71em":"0.32em")),h!==M&&(R=R.transition(h),B=B.transition(h),C=C.transition(h),k=k.transition(h),I=I.transition(h).attr("opacity",Ai).attr("transform",function(P){return isFinite(P=b(P))?d(P+c):this.getAttribute("transform")}),z.attr("opacity",Ai).attr("transform",function(P){var F=this.parentNode.__axis;return d((F&&isFinite(F=F(P))?F:b(P))+c)})),I.remove(),R.attr("d",t===fn||t===hr?o?"M"+l*o+","+E+"H"+c+"V"+$+"H"+l*o:"M"+c+","+E+"V"+$:o?"M"+E+","+l*o+"V"+c+"H"+$+"V"+l*o:"M"+E+","+c+"H"+$),B.attr("opacity",1).attr("transform",function(P){return d(b(P)+c)}),C.attr(p+"2",l*a),k.attr(p,l*y).text(v),M.filter(Fo).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===hr?"start":t===fn?"end":"middle"),M.each(function(){this.__axis=b})}return f.scale=function(h){return arguments.length?(e=h,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),f):n.slice()},f.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),f):r&&r.slice()},f.tickFormat=function(h){return arguments.length?(i=h,f):i},f.tickSize=function(h){return arguments.length?(a=o=+h,f):a},f.tickSizeInner=function(h){return arguments.length?(a=+h,f):a},f.tickSizeOuter=function(h){return arguments.length?(o=+h,f):o},f.tickPadding=function(h){return arguments.length?(s=+h,f):s},f.offset=function(h){return arguments.length?(c=+h,f):c},f}function Bo(t){return Aa(Mr,t)}function Oo(t){return Aa(fn,t)}var Ho={value:()=>{}};function Na(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Fn(n)}function Fn(t){this._=t}function qo(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Fn.prototype=Na.prototype={constructor:Fn,on:function(t,e){var n=this._,r=qo(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=Xo(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=Ni(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ni(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Fn(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function Xo(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Ni(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ho,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Sr="http://www.w3.org/1999/xhtml";const Ci={svg:"http://www.w3.org/2000/svg",xhtml:Sr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ir(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ci.hasOwnProperty(e)?{space:Ci[e],local:t}:t}function Go(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Sr&&e.documentElement.namespaceURI===Sr?e.createElement(t):e.createElementNS(n,t)}}function Yo(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ca(t){var e=ir(t);return(e.local?Yo:Go)(e)}function Uo(){}function Rr(t){return t==null?Uo:function(){return this.querySelector(t)}}function jo(t){typeof t!="function"&&(t=Rr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),c,l,p=0;p<o;++p)(c=a[p])&&(l=t.call(c,c.__data__,p,a))&&("__data__"in c&&(l.__data__=c.__data__),s[p]=l);return new Wt(r,this._parents)}function Wo(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ko(){return[]}function Ia(t){return t==null?Ko:function(){return this.querySelectorAll(t)}}function Jo(t){return function(){return Wo(t.apply(this,arguments))}}function Zo(t){typeof t=="function"?t=Jo(t):t=Ia(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,c,l=0;l<s;++l)(c=o[l])&&(r.push(t.call(c,c.__data__,l,o)),i.push(c));return new Wt(r,i)}function Ta(t){return function(){return this.matches(t)}}function za(t){return function(e){return e.matches(t)}}var Qo=Array.prototype.find;function ts(t){return function(){return Qo.call(this.children,t)}}function es(){return this.firstElementChild}function ns(t){return this.select(t==null?es:ts(typeof t=="function"?t:za(t)))}var rs=Array.prototype.filter;function is(){return Array.from(this.children)}function as(t){return function(){return rs.call(this.children,t)}}function os(t){return this.selectAll(t==null?is:as(typeof t=="function"?t:za(t)))}function ss(t){typeof t!="function"&&(t=Ta(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],c,l=0;l<o;++l)(c=a[l])&&t.call(c,c.__data__,l,a)&&s.push(c);return new Wt(r,this._parents)}function Da(t){return new Array(t.length)}function ls(){return new Wt(this._enter||this._groups.map(Da),this._parents)}function jn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}jn.prototype={constructor:jn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function cs(t){return function(){return t}}function us(t,e,n,r,i,a){for(var o=0,s,c=e.length,l=a.length;o<l;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new jn(t,a[o]);for(;o<c;++o)(s=e[o])&&(i[o]=s)}function fs(t,e,n,r,i,a,o){var s,c,l=new Map,p=e.length,d=a.length,f=new Array(p),h;for(s=0;s<p;++s)(c=e[s])&&(f[s]=h=o.call(c,c.__data__,s,e)+"",l.has(h)?i[s]=c:l.set(h,c));for(s=0;s<d;++s)h=o.call(t,a[s],s,a)+"",(c=l.get(h))?(r[s]=c,c.__data__=a[s],l.delete(h)):n[s]=new jn(t,a[s]);for(s=0;s<p;++s)(c=e[s])&&l.get(f[s])===c&&(i[s]=c)}function hs(t){return t.__data__}function ds(t,e){if(!arguments.length)return Array.from(this,hs);var n=e?fs:us,r=this._parents,i=this._groups;typeof t!="function"&&(t=cs(t));for(var a=i.length,o=new Array(a),s=new Array(a),c=new Array(a),l=0;l<a;++l){var p=r[l],d=i[l],f=d.length,h=ps(t.call(p,p&&p.__data__,l,r)),_=h.length,v=s[l]=new Array(_),y=o[l]=new Array(_),x=c[l]=new Array(f);n(p,d,v,y,x,h,e);for(var E=0,$=0,b,M;E<_;++E)if(b=v[E]){for(E>=$&&($=E+1);!(M=y[$])&&++$<_;);b._next=M||null}}return o=new Wt(o,r),o._enter=s,o._exit=c,o}function ps(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ms(){return new Wt(this._exit||this._groups.map(Da),this._parents)}function gs(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function _s(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),c=0;c<o;++c)for(var l=n[c],p=r[c],d=l.length,f=s[c]=new Array(d),h,_=0;_<d;++_)(h=l[_]||p[_])&&(f[_]=h);for(;c<i;++c)s[c]=n[c];return new Wt(s,this._parents)}function vs(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function ys(t){t||(t=xs);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,c=i[a]=new Array(s),l,p=0;p<s;++p)(l=o[p])&&(c[p]=l);c.sort(e)}return new Wt(i,this._parents).order()}function xs(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ws(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function bs(){return Array.from(this)}function ks(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Es(){let t=0;for(const e of this)++t;return t}function $s(){return!this.node()}function Ms(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function Ss(t){return function(){this.removeAttribute(t)}}function As(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ns(t,e){return function(){this.setAttribute(t,e)}}function Cs(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Is(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Ts(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function zs(t,e){var n=ir(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?As:Ss:typeof e=="function"?n.local?Ts:Is:n.local?Cs:Ns)(n,e))}function Va(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ds(t){return function(){this.style.removeProperty(t)}}function Vs(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ls(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ps(t,e,n){return arguments.length>1?this.each((e==null?Ds:typeof e=="function"?Ls:Vs)(t,e,n??"")):tn(this.node(),t)}function tn(t,e){return t.style.getPropertyValue(e)||Va(t).getComputedStyle(t,null).getPropertyValue(e)}function Rs(t){return function(){delete this[t]}}function Fs(t,e){return function(){this[t]=e}}function Bs(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Os(t,e){return arguments.length>1?this.each((e==null?Rs:typeof e=="function"?Bs:Fs)(t,e)):this.node()[t]}function La(t){return t.trim().split(/^|\s+/)}function Fr(t){return t.classList||new Pa(t)}function Pa(t){this._node=t,this._names=La(t.getAttribute("class")||"")}Pa.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ra(t,e){for(var n=Fr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Fa(t,e){for(var n=Fr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Hs(t){return function(){Ra(this,t)}}function qs(t){return function(){Fa(this,t)}}function Xs(t,e){return function(){(e.apply(this,arguments)?Ra:Fa)(this,t)}}function Gs(t,e){var n=La(t+"");if(arguments.length<2){for(var r=Fr(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Xs:e?Hs:qs)(n,e))}function Ys(){this.textContent=""}function Us(t){return function(){this.textContent=t}}function js(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Ws(t){return arguments.length?this.each(t==null?Ys:(typeof t=="function"?js:Us)(t)):this.node().textContent}function Ks(){this.innerHTML=""}function Js(t){return function(){this.innerHTML=t}}function Zs(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Qs(t){return arguments.length?this.each(t==null?Ks:(typeof t=="function"?Zs:Js)(t)):this.node().innerHTML}function tl(){this.nextSibling&&this.parentNode.appendChild(this)}function el(){return this.each(tl)}function nl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rl(){return this.each(nl)}function il(t){var e=typeof t=="function"?t:Ca(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function al(){return null}function ol(t,e){var n=typeof t=="function"?t:Ca(t),r=e==null?al:typeof e=="function"?e:Rr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function sl(){var t=this.parentNode;t&&t.removeChild(this)}function ll(){return this.each(sl)}function cl(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ul(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function fl(t){return this.select(t?ul:cl)}function hl(t){return arguments.length?this.property("__data__",t):this.node().__data__}function dl(t){return function(e){t.call(this,e,this.__data__)}}function pl(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ml(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function gl(t,e,n){return function(){var r=this.__on,i,a=dl(e);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function _l(t,e,n){var r=pl(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,l=s.length,p;c<l;++c)for(i=0,p=s[c];i<a;++i)if((o=r[i]).type===p.type&&o.name===p.name)return p.value}return}for(s=e?gl:ml,i=0;i<a;++i)this.each(s(r[i],e,n));return this}function Ba(t,e,n){var r=Va(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function vl(t,e){return function(){return Ba(this,t,e)}}function yl(t,e){return function(){return Ba(this,t,e.apply(this,arguments))}}function xl(t,e){return this.each((typeof e=="function"?yl:vl)(t,e))}function*wl(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Oa=[null];function Wt(t,e){this._groups=t,this._parents=e}function wn(){return new Wt([[document.documentElement]],Oa)}function bl(){return this}Wt.prototype=wn.prototype={constructor:Wt,select:jo,selectAll:Zo,selectChild:ns,selectChildren:os,filter:ss,data:ds,enter:ls,exit:ms,join:gs,merge:_s,selection:bl,order:vs,sort:ys,call:ws,nodes:bs,node:ks,size:Es,empty:$s,each:Ms,attr:zs,style:Ps,property:Os,classed:Gs,text:Ws,html:Qs,raise:el,lower:rl,append:il,insert:ol,remove:ll,clone:fl,datum:hl,on:_l,dispatch:xl,[Symbol.iterator]:wl};function Ht(t){return typeof t=="string"?new Wt([[document.querySelector(t)]],[document.documentElement]):new Wt([[t]],Oa)}function kl(t){let e;for(;e=t.sourceEvent;)t=e;return t}function We(t,e){if(t=kl(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Br(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ha(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function bn(){}var _n=.7,Wn=1/_n,Ze="\\s*([+-]?\\d+)\\s*",vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ve="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",El=/^#([0-9a-f]{3,8})$/,$l=new RegExp(`^rgb\\(${Ze},${Ze},${Ze}\\)$`),Ml=new RegExp(`^rgb\\(${ve},${ve},${ve}\\)$`),Sl=new RegExp(`^rgba\\(${Ze},${Ze},${Ze},${vn}\\)$`),Al=new RegExp(`^rgba\\(${ve},${ve},${ve},${vn}\\)$`),Nl=new RegExp(`^hsl\\(${vn},${ve},${ve}\\)$`),Cl=new RegExp(`^hsla\\(${vn},${ve},${ve},${vn}\\)$`),Ii={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Br(bn,Be,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ti,formatHex:Ti,formatHex8:Il,formatHsl:Tl,formatRgb:zi,toString:zi});function Ti(){return this.rgb().formatHex()}function Il(){return this.rgb().formatHex8()}function Tl(){return qa(this).formatHsl()}function zi(){return this.rgb().formatRgb()}function Be(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=El.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Di(e):n===3?new jt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Dn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Dn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$l.exec(t))?new jt(e[1],e[2],e[3],1):(e=Ml.exec(t))?new jt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Sl.exec(t))?Dn(e[1],e[2],e[3],e[4]):(e=Al.exec(t))?Dn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Nl.exec(t))?Pi(e[1],e[2]/100,e[3]/100,1):(e=Cl.exec(t))?Pi(e[1],e[2]/100,e[3]/100,e[4]):Ii.hasOwnProperty(t)?Di(Ii[t]):t==="transparent"?new jt(NaN,NaN,NaN,0):null}function Di(t){return new jt(t>>16&255,t>>8&255,t&255,1)}function Dn(t,e,n,r){return r<=0&&(t=e=n=NaN),new jt(t,e,n,r)}function zl(t){return t instanceof bn||(t=Be(t)),t?(t=t.rgb(),new jt(t.r,t.g,t.b,t.opacity)):new jt}function Ar(t,e,n,r){return arguments.length===1?zl(t):new jt(t,e,n,r??1)}function jt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Br(jt,Ar,Ha(bn,{brighter(t){return t=t==null?Wn:Math.pow(Wn,t),new jt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?_n:Math.pow(_n,t),new jt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new jt(Pe(this.r),Pe(this.g),Pe(this.b),Kn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vi,formatHex:Vi,formatHex8:Dl,formatRgb:Li,toString:Li}));function Vi(){return`#${Le(this.r)}${Le(this.g)}${Le(this.b)}`}function Dl(){return`#${Le(this.r)}${Le(this.g)}${Le(this.b)}${Le((isNaN(this.opacity)?1:this.opacity)*255)}`}function Li(){const t=Kn(this.opacity);return`${t===1?"rgb(":"rgba("}${Pe(this.r)}, ${Pe(this.g)}, ${Pe(this.b)}${t===1?")":`, ${t})`}`}function Kn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Pe(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Le(t){return t=Pe(t),(t<16?"0":"")+t.toString(16)}function Pi(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new se(t,e,n,r)}function qa(t){if(t instanceof se)return new se(t.h,t.s,t.l,t.opacity);if(t instanceof bn||(t=Be(t)),!t)return new se;if(t instanceof se)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new se(o,s,c,t.opacity)}function Vl(t,e,n,r){return arguments.length===1?qa(t):new se(t,e,n,r??1)}function se(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Br(se,Vl,Ha(bn,{brighter(t){return t=t==null?Wn:Math.pow(Wn,t),new se(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?_n:Math.pow(_n,t),new se(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new jt(dr(t>=240?t-240:t+120,i,r),dr(t,i,r),dr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new se(Ri(this.h),Vn(this.s),Vn(this.l),Kn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Kn(this.opacity);return`${t===1?"hsl(":"hsla("}${Ri(this.h)}, ${Vn(this.s)*100}%, ${Vn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ri(t){return t=(t||0)%360,t<0?t+360:t}function Vn(t){return Math.max(0,Math.min(1,t||0))}function dr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Or=t=>()=>t;function Ll(t,e){return function(n){return t+n*e}}function Pl(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Rl(t){return(t=+t)==1?Xa:function(e,n){return n-e?Pl(e,n,t):Or(isNaN(e)?n:e)}}function Xa(t,e){var n=e-t;return n?Ll(t,n):Or(isNaN(t)?e:t)}const Jn=function t(e){var n=Rl(e);function r(i,a){var o=n((i=Ar(i)).r,(a=Ar(a)).r),s=n(i.g,a.g),c=n(i.b,a.b),l=Xa(i.opacity,a.opacity);return function(p){return i.r=o(p),i.g=s(p),i.b=c(p),i.opacity=l(p),i+""}}return r.gamma=t,r}(1);function Fl(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Bl(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ol(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Hr(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Hl(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function oe(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ql(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Hr(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Nr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pr=new RegExp(Nr.source,"g");function Xl(t){return function(){return t}}function Gl(t){return function(e){return t(e)+""}}function Ga(t,e){var n=Nr.lastIndex=pr.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(t=t+"",e=e+"";(r=Nr.exec(t))&&(i=pr.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:oe(r,i)})),n=pr.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?Gl(c[0].x):Xl(e):(e=c.length,function(l){for(var p=0,d;p<e;++p)s[(d=c[p]).i]=d.x(l);return s.join("")})}function Hr(t,e){var n=typeof e,r;return e==null||n==="boolean"?Or(e):(n==="number"?oe:n==="string"?(r=Be(e))?(e=r,Jn):Ga:e instanceof Be?Jn:e instanceof Date?Hl:Bl(e)?Fl:Array.isArray(e)?Ol:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ql:oe)(t,e)}function Yl(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Fi=180/Math.PI,Cr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ya(t,e,n,r,i,a){var o,s,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Fi,skewX:Math.atan(c)*Fi,scaleX:o,scaleY:s}}var Ln;function Ul(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Cr:Ya(e.a,e.b,e.c,e.d,e.e,e.f)}function jl(t){return t==null||(Ln||(Ln=document.createElementNS("http://www.w3.org/2000/svg","g")),Ln.setAttribute("transform",t),!(t=Ln.transform.baseVal.consolidate()))?Cr:(t=t.matrix,Ya(t.a,t.b,t.c,t.d,t.e,t.f))}function Ua(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function a(l,p,d,f,h,_){if(l!==d||p!==f){var v=h.push("translate(",null,e,null,n);_.push({i:v-4,x:oe(l,d)},{i:v-2,x:oe(p,f)})}else(d||f)&&h.push("translate("+d+e+f+n)}function o(l,p,d,f){l!==p?(l-p>180?p+=360:p-l>180&&(l+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:oe(l,p)})):p&&d.push(i(d)+"rotate("+p+r)}function s(l,p,d,f){l!==p?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:oe(l,p)}):p&&d.push(i(d)+"skewX("+p+r)}function c(l,p,d,f,h,_){if(l!==d||p!==f){var v=h.push(i(h)+"scale(",null,",",null,")");_.push({i:v-4,x:oe(l,d)},{i:v-2,x:oe(p,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(l,p){var d=[],f=[];return l=t(l),p=t(p),a(l.translateX,l.translateY,p.translateX,p.translateY,d,f),o(l.rotate,p.rotate,d,f),s(l.skewX,p.skewX,d,f),c(l.scaleX,l.scaleY,p.scaleX,p.scaleY,d,f),l=p=null,function(h){for(var _=-1,v=f.length,y;++_<v;)d[(y=f[_]).i]=y.x(h);return d.join("")}}}var Wl=Ua(Ul,"px, ","px)","deg)"),Kl=Ua(jl,", ",")",")"),en=0,hn=0,cn=0,ja=1e3,Zn,dn,Qn=0,Oe=0,ar=0,yn=typeof performance=="object"&&performance.now?performance:Date,Wa=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qr(){return Oe||(Wa(Jl),Oe=yn.now()+ar)}function Jl(){Oe=0}function tr(){this._call=this._time=this._next=null}tr.prototype=Ka.prototype={constructor:tr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?qr():+n)+(e==null?0:+e),!this._next&&dn!==this&&(dn?dn._next=this:Zn=this,dn=this),this._call=t,this._time=n,Ir()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ir())}};function Ka(t,e,n){var r=new tr;return r.restart(t,e,n),r}function Zl(){qr(),++en;for(var t=Zn,e;t;)(e=Oe-t._time)>=0&&t._call.call(void 0,e),t=t._next;--en}function Bi(){Oe=(Qn=yn.now())+ar,en=hn=0;try{Zl()}finally{en=0,tc(),Oe=0}}function Ql(){var t=yn.now(),e=t-Qn;e>ja&&(ar-=e,Qn=t)}function tc(){for(var t,e=Zn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Zn=n);dn=t,Ir(r)}function Ir(t){if(!en){hn&&(hn=clearTimeout(hn));var e=t-Oe;e>24?(t<1/0&&(hn=setTimeout(Bi,t-yn.now()-ar)),cn&&(cn=clearInterval(cn))):(cn||(Qn=yn.now(),cn=setInterval(Ql,ja)),en=1,Wa(Bi))}}function Oi(t,e,n){var r=new tr;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var ec=Na("start","end","cancel","interrupt"),nc=[],Ja=0,Hi=1,Tr=2,Bn=3,qi=4,zr=5,On=6;function or(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;rc(t,n,{name:e,index:r,group:i,on:ec,tween:nc,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ja})}function Xr(t,e){var n=pe(t,e);if(n.state>Ja)throw new Error("too late; already scheduled");return n}function xe(t,e){var n=pe(t,e);if(n.state>Bn)throw new Error("too late; already running");return n}function pe(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function rc(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Ka(a,0,n.time);function a(l){n.state=Hi,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var p,d,f,h;if(n.state!==Hi)return c();for(p in r)if(h=r[p],h.name===n.name){if(h.state===Bn)return Oi(o);h.state===qi?(h.state=On,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[p]):+p<e&&(h.state=On,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[p])}if(Oi(function(){n.state===Bn&&(n.state=qi,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=Tr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Tr){for(n.state=Bn,i=new Array(f=n.tween.length),p=0,d=-1;p<f;++p)(h=n.tween[p].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function s(l){for(var p=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=zr,1),d=-1,f=i.length;++d<f;)i[d].call(t,p);n.state===zr&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=On,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function ic(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>Tr&&r.state<zr,r.state=On,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function ac(t){return this.each(function(){ic(this,t)})}function oc(t,e){var n,r;return function(){var i=xe(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function sc(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=xe(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===e){i[c]=s;break}c===l&&i.push(s)}a.tween=i}}function lc(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=pe(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?oc:sc)(n,t,e))}function Gr(t,e,n){var r=t._id;return t.each(function(){var i=xe(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return pe(i,r).value[e]}}function Za(t,e){var n;return(typeof e=="number"?oe:e instanceof Be?Jn:(n=Be(e))?(e=n,Jn):Ga)(t,e)}function cc(t){return function(){this.removeAttribute(t)}}function uc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fc(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function hc(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function dc(t,e,n){var r,i,a;return function(){var o,s=n(this),c;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),c=s+"",o===c?null:o===r&&c===i?a:(i=c,a=e(r=o,s)))}}function pc(t,e,n){var r,i,a;return function(){var o,s=n(this),c;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),c=s+"",o===c?null:o===r&&c===i?a:(i=c,a=e(r=o,s)))}}function mc(t,e){var n=ir(t),r=n==="transform"?Kl:Za;return this.attrTween(t,typeof e=="function"?(n.local?pc:dc)(n,r,Gr(this,"attr."+t,e)):e==null?(n.local?uc:cc)(n):(n.local?hc:fc)(n,r,e))}function gc(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function _c(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function vc(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&_c(t,a)),n}return i._value=e,i}function yc(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&gc(t,a)),n}return i._value=e,i}function xc(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ir(t);return this.tween(n,(r.local?vc:yc)(r,e))}function wc(t,e){return function(){Xr(this,t).delay=+e.apply(this,arguments)}}function bc(t,e){return e=+e,function(){Xr(this,t).delay=e}}function kc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?wc:bc)(e,t)):pe(this.node(),e).delay}function Ec(t,e){return function(){xe(this,t).duration=+e.apply(this,arguments)}}function $c(t,e){return e=+e,function(){xe(this,t).duration=e}}function Mc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ec:$c)(e,t)):pe(this.node(),e).duration}function Sc(t,e){if(typeof e!="function")throw new Error;return function(){xe(this,t).ease=e}}function Ac(t){var e=this._id;return arguments.length?this.each(Sc(e,t)):pe(this.node(),e).ease}function Nc(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;xe(this,t).ease=n}}function Cc(t){if(typeof t!="function")throw new Error;return this.each(Nc(this._id,t))}function Ic(t){typeof t!="function"&&(t=Ta(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],c,l=0;l<o;++l)(c=a[l])&&t.call(c,c.__data__,l,a)&&s.push(c);return new $e(r,this._parents,this._name,this._id)}function Tc(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var c=e[s],l=n[s],p=c.length,d=o[s]=new Array(p),f,h=0;h<p;++h)(f=c[h]||l[h])&&(d[h]=f);for(;s<r;++s)o[s]=e[s];return new $e(o,this._parents,this._name,this._id)}function zc(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Dc(t,e,n){var r,i,a=zc(e)?Xr:xe;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function Vc(t,e){var n=this._id;return arguments.length<2?pe(this.node(),n).on.on(t):this.each(Dc(n,t,e))}function Lc(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Pc(){return this.on("end.remove",Lc(this._id))}function Rc(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Rr(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],c=s.length,l=a[o]=new Array(c),p,d,f=0;f<c;++f)(p=s[f])&&(d=t.call(p,p.__data__,f,s))&&("__data__"in p&&(d.__data__=p.__data__),l[f]=d,or(l[f],e,n,f,l,pe(p,n)));return new $e(a,this._parents,e,n)}function Fc(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ia(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var c=r[s],l=c.length,p,d=0;d<l;++d)if(p=c[d]){for(var f=t.call(p,p.__data__,d,c),h,_=pe(p,n),v=0,y=f.length;v<y;++v)(h=f[v])&&or(h,e,n,v,f,_);a.push(f),o.push(p)}return new $e(a,o,e,n)}var Bc=wn.prototype.constructor;function Oc(){return new Bc(this._groups,this._parents)}function Hc(t,e){var n,r,i;return function(){var a=tn(this,t),o=(this.style.removeProperty(t),tn(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Qa(t){return function(){this.style.removeProperty(t)}}function qc(t,e,n){var r,i=n+"",a;return function(){var o=tn(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function Xc(t,e,n){var r,i,a;return function(){var o=tn(this,t),s=n(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(t),tn(this,t))),o===c?null:o===r&&c===i?a:(i=c,a=e(r=o,s))}}function Gc(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var c=xe(this,t),l=c.on,p=c.value[a]==null?s||(s=Qa(e)):void 0;(l!==n||i!==p)&&(r=(n=l).copy()).on(o,i=p),c.on=r}}function Yc(t,e,n){var r=(t+="")=="transform"?Wl:Za;return e==null?this.styleTween(t,Hc(t,r)).on("end.style."+t,Qa(t)):typeof e=="function"?this.styleTween(t,Xc(t,r,Gr(this,"style."+t,e))).each(Gc(this._id,t)):this.styleTween(t,qc(t,r,e),n).on("end.style."+t,null)}function Uc(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function jc(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Uc(t,o,n)),r}return a._value=e,a}function Wc(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,jc(t,e,n??""))}function Kc(t){return function(){this.textContent=t}}function Jc(t){return function(){var e=t(this);this.textContent=e??""}}function Zc(t){return this.tween("text",typeof t=="function"?Jc(Gr(this,"text",t)):Kc(t==null?"":t+""))}function Qc(t){return function(e){this.textContent=t.call(this,e)}}function tu(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Qc(i)),e}return r._value=t,r}function eu(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,tu(t))}function nu(){for(var t=this._name,e=this._id,n=to(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,c,l=0;l<s;++l)if(c=o[l]){var p=pe(c,e);or(c,t,n,l,o,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new $e(r,this._parents,t,n)}function ru(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},c={value:function(){--i===0&&a()}};n.each(function(){var l=xe(this,r),p=l.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),l.on=e}),i===0&&a()})}var iu=0;function $e(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function to(){return++iu}var ke=wn.prototype;$e.prototype={constructor:$e,select:Rc,selectAll:Fc,selectChild:ke.selectChild,selectChildren:ke.selectChildren,filter:Ic,merge:Tc,selection:Oc,transition:nu,call:ke.call,nodes:ke.nodes,node:ke.node,size:ke.size,empty:ke.empty,each:ke.each,on:Vc,attr:mc,attrTween:xc,style:Yc,styleTween:Wc,text:Zc,textTween:eu,remove:Pc,tween:lc,delay:kc,duration:Mc,ease:Ac,easeVarying:Cc,end:ru,[Symbol.iterator]:ke[Symbol.iterator]};function Xi(t){return--t*t*t+1}function au(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ou={time:null,delay:0,duration:250,ease:au};function su(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function lu(t){var e,n;t instanceof $e?(e=t._id,t=t._name):(e=to(),(n=ou).time=qr(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,c,l=0;l<s;++l)(c=o[l])&&or(c,t,e,l,o,n||su(c,e));return new $e(r,this._parents,t,e)}wn.prototype.interrupt=ac;wn.prototype.transition=lu;const Dr=Math.PI,Vr=2*Dr,Ve=1e-6,cu=Vr-Ve;function eo(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function uu(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return eo;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class fu{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?eo:uu(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=r-e,l=i-n,p=o-e,d=s-n,f=p*p+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Ve)if(!(Math.abs(d*c-l*p)>Ve)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-o,_=i-s,v=c*c+l*l,y=h*h+_*_,x=Math.sqrt(v),E=Math.sqrt(f),$=a*Math.tan((Dr-Math.acos((v+f-y)/(2*x*E)))/2),b=$/E,M=$/x;Math.abs(b-1)>Ve&&this._append`L${e+b*p},${n+b*d}`,this._append`A${a},${a},0,0,${+(d*h>p*_)},${this._x1=e+M*c},${this._y1=n+M*l}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),c=r*Math.sin(i),l=e+s,p=n+c,d=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${l},${p}`:(Math.abs(this._x1-l)>Ve||Math.abs(this._y1-p)>Ve)&&this._append`L${l},${p}`,r&&(f<0&&(f=f%Vr+Vr),f>cu?this._append`A${r},${r},0,1,${d},${e-s},${n-c}A${r},${r},0,1,${d},${this._x1=l},${this._y1=p}`:f>Ve&&this._append`A${r},${r},0,${+(f>=Dr)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var Gi={},mr={},gr=34,un=10,_r=13;function no(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function hu(t,e){var n=no(t);return function(r,i){return e(n(r),i,t)}}function Yi(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function Yt(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function du(t){return t<0?"-"+Yt(-t,6):t>9999?"+"+Yt(t,6):Yt(t,4)}function pu(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":du(t.getUTCFullYear())+"-"+Yt(t.getUTCMonth()+1,2)+"-"+Yt(t.getUTCDate(),2)+(i?"T"+Yt(e,2)+":"+Yt(n,2)+":"+Yt(r,2)+"."+Yt(i,3)+"Z":r?"T"+Yt(e,2)+":"+Yt(n,2)+":"+Yt(r,2)+"Z":n||e?"T"+Yt(e,2)+":"+Yt(n,2)+"Z":"")}function mu(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(d,f){var h,_,v=i(d,function(y,x){if(h)return h(y,x-1);_=y,h=f?hu(y,f):no(y)});return v.columns=_||[],v}function i(d,f){var h=[],_=d.length,v=0,y=0,x,E=_<=0,$=!1;d.charCodeAt(_-1)===un&&--_,d.charCodeAt(_-1)===_r&&--_;function b(){if(E)return mr;if($)return $=!1,Gi;var R,B=v,I;if(d.charCodeAt(B)===gr){for(;v++<_&&d.charCodeAt(v)!==gr||d.charCodeAt(++v)===gr;);return(R=v)>=_?E=!0:(I=d.charCodeAt(v++))===un?$=!0:I===_r&&($=!0,d.charCodeAt(v)===un&&++v),d.slice(B+1,R-1).replace(/""/g,'"')}for(;v<_;){if((I=d.charCodeAt(R=v++))===un)$=!0;else if(I===_r)$=!0,d.charCodeAt(v)===un&&++v;else if(I!==n)continue;return d.slice(B,R)}return E=!0,d.slice(B,_)}for(;(x=b())!==mr;){for(var M=[];x!==Gi&&x!==mr;)M.push(x),x=b();f&&(M=f(M,y++))==null||h.push(M)}return h}function a(d,f){return d.map(function(h){return f.map(function(_){return p(h[_])}).join(t)})}function o(d,f){return f==null&&(f=Yi(d)),[f.map(p).join(t)].concat(a(d,f)).join(`
`)}function s(d,f){return f==null&&(f=Yi(d)),a(d,f).join(`
`)}function c(d){return d.map(l).join(`
`)}function l(d){return d.map(p).join(t)}function p(d){return d==null?"":d instanceof Date?pu(d):e.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:c,formatRow:l,formatValue:p}}var gu=mu(","),_u=gu.parse;function vu(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function yu(t,e){return fetch(t,e).then(vu)}function xu(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),yu(e,n).then(function(i){return t(i,r)})}}var wu=xu(_u);function bu(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function er(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function nn(t){return t=er(Math.abs(t)),t?t[1]:NaN}function ku(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Eu(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var $u=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nr(t){if(!(e=$u.exec(t)))throw new Error("invalid format: "+t);var e;return new Yr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nr.prototype=Yr.prototype;function Yr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Yr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Mu(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ro;function Su(t,e){var n=er(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(ro=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+er(t,Math.max(0,e+a-1))[0]}function Ui(t,e){var n=er(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ji={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bu,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ui(t*100,e),r:Ui,s:Su,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Wi(t){return t}var Ki=Array.prototype.map,Ji=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Au(t){var e=t.grouping===void 0||t.thousands===void 0?Wi:ku(Ki.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Wi:Eu(Ki.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function l(d){d=nr(d);var f=d.fill,h=d.align,_=d.sign,v=d.symbol,y=d.zero,x=d.width,E=d.comma,$=d.precision,b=d.trim,M=d.type;M==="n"?(E=!0,M="g"):ji[M]||($===void 0&&($=12),b=!0,M="g"),(y||f==="0"&&h==="=")&&(y=!0,f="0",h="=");var R=v==="$"?n:v==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",B=v==="$"?r:/[%p]/.test(M)?o:"",I=ji[M],z=/[defgprs%]/.test(M);$=$===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function C(k){var P=R,F=B,q,mt,gt;if(M==="c")F=I(k)+F,k="";else{k=+k;var G=k<0||1/k<0;if(k=isNaN(k)?c:I(Math.abs(k),$),b&&(k=Mu(k)),G&&+k==0&&_!=="+"&&(G=!1),P=(G?_==="("?_:s:_==="-"||_==="("?"":_)+P,F=(M==="s"?Ji[8+ro/3]:"")+F+(G&&_==="("?")":""),z){for(q=-1,mt=k.length;++q<mt;)if(gt=k.charCodeAt(q),48>gt||gt>57){F=(gt===46?i+k.slice(q+1):k.slice(q))+F,k=k.slice(0,q);break}}}E&&!y&&(k=e(k,1/0));var et=P.length+k.length+F.length,ot=et<x?new Array(x-et+1).join(f):"";switch(E&&y&&(k=e(ot+k,ot.length?x-F.length:1/0),ot=""),h){case"<":k=P+k+F+ot;break;case"=":k=P+ot+k+F;break;case"^":k=ot.slice(0,et=ot.length>>1)+P+k+F+ot.slice(et);break;default:k=ot+P+k+F;break}return a(k)}return C.toString=function(){return d+""},C}function p(d,f){var h=l((d=nr(d),d.type="f",d)),_=Math.max(-8,Math.min(8,Math.floor(nn(f)/3)))*3,v=Math.pow(10,-_),y=Ji[8+_/3];return function(x){return h(v*x)+y}}return{format:l,formatPrefix:p}}var Pn,Ur,io;Nu({thousands:",",grouping:[3],currency:["$",""]});function Nu(t){return Pn=Au(t),Ur=Pn.format,io=Pn.formatPrefix,Pn}function Cu(t){return Math.max(0,-nn(Math.abs(t)))}function Iu(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nn(e)/3)))*3-nn(Math.abs(t)))}function Tu(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,nn(e)-nn(t))+1}function zu(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function Du(){return this.eachAfter(zu)}function Vu(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function Lu(t,e){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(t.call(e,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function Pu(t,e){for(var n=this,r=[n],i=[],a,o,s,c=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;n=i.pop();)t.call(e,n,++c,this);return this}function Ru(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function Fu(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Bu(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Ou(t){for(var e=this,n=Hu(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function Hu(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function qu(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Xu(){return Array.from(this)}function Gu(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Yu(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*Uu(){var t=this,e,n=[t],r,i,a;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function Te(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Ku)):e===void 0&&(e=Wu);for(var n=new xn(t),r,i=[n],a,o,s,c;r=i.pop();)if((o=e(r.data))&&(c=(o=Array.from(o)).length))for(r.children=o,s=c-1;s>=0;--s)i.push(a=o[s]=new xn(o[s])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(Zu)}function ju(){return Te(this).eachBefore(Ju)}function Wu(t){return t.children}function Ku(t){return Array.isArray(t)?t[1]:null}function Ju(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Zu(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function xn(t){this.data=t,this.depth=this.height=0,this.parent=null}xn.prototype=Te.prototype={constructor:xn,count:Du,each:Vu,eachAfter:Pu,eachBefore:Lu,find:Ru,sum:Fu,sort:Bu,path:Ou,ancestors:qu,descendants:Xu,leaves:Gu,links:Yu,copy:ju,[Symbol.iterator]:Uu};function Qu(t,e){return t.parent===e.parent?1:2}function vr(t){var e=t.children;return e?e[0]:t.t}function yr(t){var e=t.children;return e?e[e.length-1]:t.t}function tf(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function ef(t){for(var e=0,n=0,r=t.children,i=r.length,a;--i>=0;)a=r[i],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function nf(t,e,n){return t.a.parent===e.parent?t.a:n}function Hn(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Hn.prototype=Object.create(xn.prototype);function rf(t){for(var e=new Hn(t,0),n,r=[e],i,a,o,s;n=r.pop();)if(a=n._.children)for(n.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new Hn(a[o],o)),i.parent=n;return(e.parent=new Hn(null,0)).children=[e],e}function kn(){var t=Qu,e=1,n=1,r=null;function i(l){var p=rf(l);if(p.eachAfter(a),p.parent.m=-p.z,p.eachBefore(o),r)l.eachBefore(c);else{var d=l,f=l,h=l;l.eachBefore(function(E){E.x<d.x&&(d=E),E.x>f.x&&(f=E),E.depth>h.depth&&(h=E)});var _=d===f?1:t(d,f)/2,v=_-d.x,y=e/(f.x+_+v),x=n/(h.depth||1);l.eachBefore(function(E){E.x=(E.x+v)*y,E.y=E.depth*x})}return l}function a(l){var p=l.children,d=l.parent.children,f=l.i?d[l.i-1]:null;if(p){ef(l);var h=(p[0].z+p[p.length-1].z)/2;f?(l.z=f.z+t(l._,f._),l.m=l.z-h):l.z=h}else f&&(l.z=f.z+t(l._,f._));l.parent.A=s(l,f,l.parent.A||d[0])}function o(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function s(l,p,d){if(p){for(var f=l,h=l,_=p,v=f.parent.children[0],y=f.m,x=h.m,E=_.m,$=v.m,b;_=yr(_),f=vr(f),_&&f;)v=vr(v),h=yr(h),h.a=l,b=_.z+E-f.z-y+t(_._,f._),b>0&&(tf(nf(_,l,d),l,b),y+=b,x+=b),E+=_.m,y+=f.m,$+=v.m,x+=h.m;_&&!yr(h)&&(h.t=_,h.m+=E-x),f&&!vr(v)&&(v.t=f,v.m+=y-$,d=l)}return d}function c(l){l.x*=e,l.y=l.depth*n}return i.separation=function(l){return arguments.length?(t=l,i):t},i.size=function(l){return arguments.length?(r=!1,e=+l[0],n=+l[1],i):r?null:[e,n]},i.nodeSize=function(l){return arguments.length?(r=!0,e=+l[0],n=+l[1],i):r?[e,n]:null},i}function ao(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Zi=Symbol("implicit");function En(){var t=new $i,e=[],n=[],r=Zi;function i(a){let o=t.get(a);if(o===void 0){if(r!==Zi)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new $i;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return En(e,n).unknown(r)},ao.apply(i,arguments),i}function af(t){return function(){return t}}function of(t){return+t}var Qi=[0,1];function Je(t){return t}function Lr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:af(isNaN(e)?NaN:.5)}function sf(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function lf(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Lr(i,r),a=n(o,a)):(r=Lr(r,i),a=n(a,o)),function(s){return a(r(s))}}function cf(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Lr(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var c=Ma(t,s,1,r)-1;return a[c](i[c](s))}}function uf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ff(){var t=Qi,e=Qi,n=Hr,r,i,a,o=Je,s,c,l;function p(){var f=Math.min(t.length,e.length);return o!==Je&&(o=sf(t[0],t[f-1])),s=f>2?cf:lf,c=l=null,d}function d(f){return f==null||isNaN(f=+f)?a:(c||(c=s(t.map(r),e,n)))(r(o(f)))}return d.invert=function(f){return o(i((l||(l=s(e,t.map(r),oe)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,of),p()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),p()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=Yl,p()},d.clamp=function(f){return arguments.length?(o=f?!0:Je,p()):o!==Je},d.interpolate=function(f){return arguments.length?(n=f,p()):n},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,h){return r=f,i=h,p()}}function hf(){return ff()(Je,Je)}function df(t,e,n,r){var i=Co(t,e,n),a;switch(r=nr(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Iu(i,o))&&(r.precision=a),io(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Tu(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Cu(i))&&(r.precision=a-(r.type==="%")*2);break}}return Ur(r)}function pf(t){var e=t.domain;return t.ticks=function(n){var r=e();return Sa(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return df(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],c,l,p=10;for(s<o&&(l=o,o=s,s=l,l=i,i=a,a=l);p-- >0;){if(l=Qe(o,s,n),l===c)return r[i]=o,r[a]=s,e(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;c=l}return t},t}function Ie(){var t=hf();return t.copy=function(){return uf(t,Ie())},ao.apply(t,arguments),pf(t)}function Ce(t){return function(){return t}}function oo(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new fu(e)}var mf=Array.prototype.slice;function gf(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function so(t){this._context=t}so.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _f(t){return new so(t)}function lo(t){return t[0]}function co(t){return t[1]}function Re(t,e){var n=Ce(!0),r=null,i=_f,a=null,o=oo(s);t=typeof t=="function"?t:t===void 0?lo:Ce(t),e=typeof e=="function"?e:e===void 0?co:Ce(e);function s(c){var l,p=(c=gf(c)).length,d,f=!1,h;for(r==null&&(a=i(h=o())),l=0;l<=p;++l)!(l<p&&n(d=c[l],l,c))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(d,l,c),+e(d,l,c));if(h)return a=null,h+""||null}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ce(+c),s):t},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ce(+c),s):e},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ce(!!c),s):n},s.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),s):i},s.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),s):r},s}class vf{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function yf(t){return new vf(t,!1)}function xf(t){return t.source}function wf(t){return t.target}function bf(t){let e=xf,n=wf,r=lo,i=co,a=null,o=null,s=oo(c);function c(){let l;const p=mf.call(arguments),d=e.apply(this,p),f=n.apply(this,p);if(a==null&&(o=t(l=s())),o.lineStart(),p[0]=d,o.point(+r.apply(this,p),+i.apply(this,p)),p[0]=f,o.point(+r.apply(this,p),+i.apply(this,p)),o.lineEnd(),l)return o=null,l+""||null}return c.source=function(l){return arguments.length?(e=l,c):e},c.target=function(l){return arguments.length?(n=l,c):n},c.x=function(l){return arguments.length?(r=typeof l=="function"?l:Ce(+l),c):r},c.y=function(l){return arguments.length?(i=typeof l=="function"?l:Ce(+l),c):i},c.context=function(l){return arguments.length?(l==null?a=o=null:o=t(a=l),c):a},c}function sr(){return bf(yf)}function ta(t){return t<0?-1:1}function ea(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(ta(a)+ta(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function na(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function xr(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function rr(t){this._context=t}rr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xr(this,this._t0,na(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,xr(this,na(this,n=ea(this,t,e)),n);break;default:xr(this,this._t0,n=ea(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};Object.create(rr.prototype).point=function(t,e){rr.prototype.point.call(this,e,t)};function wr(t){return new rr(t)}function pn(t,e,n){this.k=t,this.x=e,this.y=n}pn.prototype={constructor:pn,scale:function(t){return t===1?this:new pn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new pn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};pn.prototype;function kf(t){let e;return{c(){e=U("svg"),this.h()},l(n){e=j(n,"svg",{style:!0}),w(e).forEach(g),this.h()},h(){Ut(e,"width","100%"),Ut(e,"height","auto")},m(n,r){X(n,e,r),t[3](e)},p:Ct,i:Ct,o:Ct,d(n){n&&g(e),t[3](null)}}}const br=700;function Ef(t,e){if(e<1)return[];const n=e-1,r=[];function i(a,o){o>n||(r.push(a),a.children&&a.children.forEach(s=>i(s,o+1)))}return i(t,0),r}function $f(t,e,n){let{treeData:r}=e,{step:i=0}=e,a,o=0;const s=En().domain(["San Francisco","Sacramento"]).range(["var(--color-classe0-node)","var(--color-classe1-node)"]);function c(){if(!r||!a)return;o=a.clientWidth||window.innerWidth;const p={top:48,right:120,bottom:40,left:120},d=o-p.left-p.right,f=br-p.top-p.bottom,h=Te(r);kn().size([d,f]).separation((C,k)=>(C.parent===k.parent,1))(h),h.descendants();const v=h.links(),y=Ef(h,i),x=v.filter(C=>y.includes(C.source)&&y.includes(C.target));if(Ht(a).selectAll("*").remove(),y.length===0)return;const E=Ht(a).attr("width",o).attr("height",br).attr("viewBox",`0 0 ${o} ${br}`).attr("preserveAspectRatio","xMidYMid meet").style("background-color","var(--color-background)").style("font-family","'Segoe UI', Tahoma, Geneva, Verdana, sans-serif").append("g").attr("transform",`translate(${p.left},${p.top})`),$=E.append("defs");$.append("filter").attr("id","dropShadow").attr("height","130%").append("feDropShadow").attr("dx",2).attr("dy",2).attr("stdDeviation",2).attr("flood-color","var(--color-shadow-link)").attr("flood-opacity",.4);const M="nodeGradient",R=$.append("radialGradient").attr("id",M).attr("cx","50%").attr("cy","50%").attr("r","50%");R.append("stop").attr("offset","0%").attr("stop-color","var(--color-node-fill)"),R.append("stop").attr("offset","100%").attr("stop-color","var(--color-node-stroke)"),s.domain().forEach((C,k)=>{const P=s(C),F=`var(--color-classe${k}-stroke)`,q=$.append("radialGradient").attr("id",`leafGradient-${C.replace(/\s+/g,"")}`).attr("cx","50%").attr("cy","50%").attr("r","50%");q.append("stop").attr("offset","0%").attr("stop-color",P),q.append("stop").attr("offset","100%").attr("stop-color",F)}),E.selectAll(".link").data(x).join("path").attr("class","link").attr("fill","none").attr("stroke","var(--color-link-stroke)").attr("stroke-width",3).attr("filter","url(#dropShadow)").attr("d",sr().x(C=>C.x).y(C=>C.y));const I=E.selectAll(".node").data(y).join("g").attr("class","node").attr("transform",C=>`translate(${C.x},${C.y})`).style("cursor","default");I.append("circle").attr("r",12).attr("fill",C=>C.children?`url(#${M})`:`url(#leafGradient-${C.data.name.split(":").pop().trim().replace(/\s+/g,"")})`).attr("stroke-width",2),I.append("text").attr("dy","0.35em").attr("y",(C,k)=>C.children?-35:k%2===0?28:40).attr("text-anchor","middle").style("font-size","14px").style("text-shadow",C=>C.data.prediction?"0 0 6px var(--color-prediction-glow)":"0 0 2px var(--color-text-shadow)").style("fill",C=>{if(!C.children){const k=C.data.name.split(":").pop().trim();return`var(--color-classe${s.domain().indexOf(k)}-text)`}return"var(--color-text-node)"}).style("text-shadow","0 0 2px var(--color-prediction-glow)").selectAll("tspan").data(C=>C.data.name.split(`
`)).join("tspan").attr("x",0).attr("dy",(C,k)=>k===0?"0":"1.5em").text(C=>C)}de(()=>(c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c))),uo(c);function l(p){ye[p?"unshift":"push"](()=>{a=p,n(0,a)})}return t.$$set=p=>{"treeData"in p&&n(1,r=p.treeData),"step"in p&&n(2,i=p.step)},[a,r,i,l]}class Mf extends re{constructor(e){super(),ie(this,e,$f,kf,Kt,{treeData:1,step:2})}}function Sf(t){let e,n,r;return{c(){e=A("div"),n=A("div"),r=U("svg"),this.h()},l(i){e=N(i,"DIV",{class:!0});var a=w(e);n=N(a,"DIV",{class:!0});var o=w(n);r=j(o,"svg",{width:!0,height:!0}),w(r).forEach(g),o.forEach(g),a.forEach(g),this.h()},h(){u(r,"width","700"),u(r,"height","650"),u(n,"class","viz svelte-1naxf7o"),u(e,"class","scroll-container svelte-1naxf7o")},m(i,a){X(i,e,a),m(e,n),m(n,r),t[3](r)},p:Ct,i:Ct,o:Ct,d(i){i&&g(e),t[3](null)}}}const Af=700,Nf=650;function Cf(t,e,n){let{currentStep:r=0}=e,i=Array(4),a;const o={top:100,right:70,bottom:100,left:200};async function s(l,p,d,f,h){const _="total_rooms",v="median_house_value",y="city";function x(tt,nt){return function(ft){return nt.map(J=>[J,zo(ft,_t=>tt(J-_t))])}}function E(tt){return function(nt){return nt/=tt,Math.abs(nt)<=1?.75*(1-nt*nt)/tt:0}}let $,b,M=[],R=[],B=[],I,z=[],C={},k={};const P=Ht(p).html("").append("svg").attr("width",d).attr("height",f).style("background","transparent"),F=P.append("g").lower();try{let V=function(D,S,O){const L=[{bbox:D,node:S}];let dt=0;const Y=P.append("g").style("display","none"),St=Y.append("rect").attr("width",200).attr("height",24).attr("fill","#f9f9f9").attr("stroke","#999").attr("rx",4).attr("ry",4),ut=Y.append("text").attr("x",8).attr("y",16).attr("font-size",12).attr("fill","#333");for(;L.length>0&&dt<O;){const{bbox:H,node:at}=L.shift();if(!at)continue;const Vt=at.feature,Nt=+at.threshold;if(!at.left&&!at.right){const Tt=B.filter(yt=>yt.x>=H.x0&&yt.x<=H.x1&&yt.y>=H.y0&&yt.y<=H.y1);if(Tt.length>0){const yt={};Tt.forEach(Bt=>{yt[Bt.city]=(yt[Bt.city]||0)+1});const Pt=Object.entries(yt).sort((Bt,ae)=>ae[1]-Bt[1])[0][0];F.append("rect").attr("x",$(H.x0)).attr("y",b(H.y1)).attr("width",$(H.x1)-$(H.x0)).attr("height",b(H.y0)-b(H.y1)).attr("fill",I(Pt)).attr("opacity",.3)}continue}if(Vt===_){if(!(H.x0<Nt&&Nt<H.x1))continue;const Tt=$(Nt);P.append("line").attr("x1",Tt).attr("x2",Tt).attr("y1",b(H.y0)).attr("y2",b(H.y1)).attr("stroke","var(--color-text)").attr("stroke-width",2),P.append("rect").attr("x",Tt-5).attr("y",b(Math.max(H.y0,H.y1))).attr("width",10).attr("height",Math.abs(b(H.y1)-b(H.y0))).attr("fill","transparent").on("mouseover",()=>{Y.style("display",null)}).on("mousemove",yt=>{const[Pt,Bt]=We(yt);Y.attr("transform",`translate(${Pt+10},${Bt-30})`),ut.text(`${_}: ${Nt.toFixed(2)}`)}).on("mouseout",()=>{Y.style("display","none")}),dt++,L.push({bbox:{x0:H.x0,x1:Nt,y0:H.y0,y1:H.y1},node:at.left}),L.push({bbox:{x0:Nt,x1:H.x1,y0:H.y0,y1:H.y1},node:at.right})}else if(Vt===v){if(!(H.y0<Nt&&Nt<H.y1))continue;const Tt=b(Nt);P.append("line").attr("x1",$(H.x0)).attr("x2",$(H.x1)).attr("y1",Tt).attr("y2",Tt).attr("stroke","var(--color-text)").attr("stroke-width",2),P.append("rect").attr("x",$(H.x0)).attr("y",Tt-5).attr("width",Math.abs($(H.x1)-$(H.x0))).attr("height",10).attr("fill","transparent").on("mouseover",()=>{Y.style("display",null)}).on("mousemove",yt=>{const[Pt,Bt]=We(yt);Y.attr("transform",`translate(${Pt+10},${Bt-30})`),ut.text(`${v}: ${Nt.toFixed(2)}`)}).on("mouseout",()=>{Y.style("display","none")}),dt++,L.push({bbox:{x0:H.x0,x1:H.x1,y0:H.y0,y1:Nt},node:at.left}),L.push({bbox:{x0:H.x0,x1:H.x1,y0:Nt,y1:H.y1},node:at.right})}}L.forEach(({bbox:H,node:at})=>{if(!at)return;const Vt=B.filter(yt=>yt.x>=H.x0&&yt.x<=H.x1&&yt.y>=H.y0&&yt.y<=H.y1);if(Vt.length===0)return;const Nt={};Vt.forEach(yt=>{Nt[yt.city]=(Nt[yt.city]||0)+1});const Tt=Object.entries(Nt).sort((yt,Pt)=>Pt[1]-yt[1])[0][0];F.append("rect").attr("x",$(H.x0)).attr("y",b(H.y1)).attr("width",$(H.x1)-$(H.x0)).attr("height",b(H.y0)-b(H.y1)).attr("fill",I(Tt)).attr("opacity",.3)})};const ft=(await(await fetch("data/housing_limpo.csv")).text()).trim().split(`
`),J=ft[0].trim().split(","),_t=J.indexOf(_),ht=J.indexOf(v),wt=J.indexOf(y);if(_t===-1||ht===-1||wt===-1)throw new Error(`Colunas "${_}", "${v}" ou "${y}" não encontradas`);B=ft.slice(1).map(D=>{var O;const S=D.split(",");return{x:parseFloat(S[_t]),y:parseFloat(S[ht]),city:(O=S[wt])==null?void 0:O.trim()}}).filter(D=>!isNaN(D.x)&&!isNaN(D.y)&&D.city);const rt=B.map(D=>D.x),$t=B.map(D=>D.y),xt=Yn(rt),bt=Gn(rt),st=Yn($t),ct=Gn($t);$=Ie().domain([xt,bt]).range([h.left,d-h.right]),b=Ie().domain([st,ct]).range([f-h.bottom,h.top]),M=$.ticks(5),R=b.ticks(5),z=[...new Set(B.map(D=>D.city))];const it={"San Francisco":"var(--color-classe0)",Sacramento:"var(--color-classe1)"};I=En().domain(z).range(z.map(D=>it[D]||"#999"));const kt=x(E(500),$.ticks(40)),vt=x(E(1e4),b.ticks(40));z.forEach(D=>{const S=B.filter(O=>O.city===D);C[D]=kt(S.map(O=>O.x)),k[D]=vt(S.map(O=>O.y))}),P.selectAll("circle").data(B).join("circle").attr("cx",D=>$(D.x)).attr("cy",D=>b(D.y)).attr("r",3).attr("fill",D=>I(D.city)).attr("stroke","var(--color-text)").attr("stroke-width",.2).attr("opacity",1),P.append("line").attr("x1",h.left).attr("y1",f-h.bottom).attr("x2",d-h.right).attr("y2",f-h.bottom).attr("stroke","var(--color-text)"),P.selectAll("xTicks").data(M).join("line").attr("x1",D=>$(D)).attr("y1",f-h.bottom).attr("x2",D=>$(D)).attr("y2",f-h.bottom+6).attr("stroke","var(--color-text)"),P.selectAll("xTickLabels").data(M).join("text").attr("fill","var(--color-text)").attr("x",D=>$(D)).attr("y",f-h.bottom+20).attr("font-size",10).attr("text-anchor","middle").text(D=>Math.round(D)),P.append("line").attr("x1",h.left).attr("y1",h.top).attr("x2",h.left).attr("y2",f-h.bottom).attr("stroke","var(--color-text)"),P.selectAll("yTicks").data(R).join("line").attr("x1",h.left).attr("y1",D=>b(D)).attr("x2",h.left-6).attr("y2",D=>b(D)).attr("stroke","var(--color-text)"),P.selectAll("yTickLabels").data(R).join("text").attr("fill","var(--color-text)").attr("x",h.left-10).attr("y",D=>b(D)+3).attr("font-size",10).attr("text-anchor","end").text(D=>Math.round(D)),P.append("text").attr("fill","var(--color-text)").attr("x",(d+h.left-h.right)/2).attr("y",f-50).attr("font-size",12).attr("text-anchor","middle").attr("font-weight","bold").text("Total rooms"),P.append("text").attr("fill","var(--color-text)").attr("transform",`translate(140, ${(f-h.bottom+h.top)/2}) rotate(-90)`).attr("font-size",12).attr("text-anchor","middle").attr("font-weight","bold").text("Median house value");const zt=d-h.right-150,Et=h.top+20,Dt=P.append("g").attr("transform",`translate(${zt},${Et})`);z.forEach((D,S)=>{const O=Dt.append("g").attr("transform",`translate(0,${S*20})`);O.append("rect").attr("width",15).attr("height",15).attr("fill",I(D)),O.append("text").attr("fill","var(--color-text)").attr("x",20).attr("y",12).attr("font-size",12).text(D)}),z.forEach((D,S)=>{P.append("path").attr("d",Re().x(O=>$(O[0])).y(O=>h.top-O[1]*2e5)(C[D])).attr("fill","none").attr("stroke",I(D)).attr("stroke-width",2)}),z.forEach((D,S)=>{P.append("path").attr("d",Re().x(O=>d-h.right+O[1]*5e6).y(O=>b(O[0]))(k[D])).attr("fill","none").attr("stroke",I(D)).attr("stroke-width",2)});const It=await(await fetch("trees/cortes_2d.json")).json();V({x0:xt,y0:st,x1:bt,y1:ct},It,l)}catch(tt){tt.message}const q=P.append("g").style("display","none"),mt=q.append("rect").attr("width",140).attr("height",40).attr("fill","#fefefe").attr("stroke","#ccc").attr("rx",5),gt=q.append("text").attr("x",10).attr("y",18).attr("font-size",12).attr("fill","#333"),G=q.append("text").attr("x",10).attr("y",34).attr("font-size",12).attr("fill","#333");P.selectAll("circle").on("mouseover",(tt,nt)=>{q.style("display",null),Ht(tt.currentTarget).attr("stroke","black").attr("stroke-width",1.5)}).on("mousemove",(tt,nt)=>{const[ft,J]=We(tt),_t=parseFloat(P.attr("width"));parseFloat(P.attr("height"));const ht=q.node().getBBox(),wt=ht.width;ht.height;let rt=ft+10,$t=J-20;rt+wt>_t&&(rt=ft-wt-10),$t<0&&($t=J+20),q.attr("transform",`translate(${rt},${$t})`),gt.text(`Median: ${nt.y}`),G.text(`Total rooms: ${nt.x}`),mt.attr("x",0).attr("y",0)}).on("mouseout",(tt,nt)=>{q.style("display","none"),Ht(tt.currentTarget).attr("stroke",null)});const et=P.append("g").style("display","none");et.append("rect").attr("width",160).attr("height",z.length*20+10).attr("fill","#fefefe").attr("stroke","#ccc").attr("rx",5);const ot=z.map((tt,nt)=>et.append("text").attr("x",10).attr("y",20+nt*18).attr("font-size",12).attr("fill",I(tt)));P.append("rect").attr("x",h.left).attr("y",h.top-60).attr("width",d-h.left-h.right).attr("height",60).attr("fill","transparent").on("mousemove",tt=>{const[nt]=We(tt),ft=$.invert(nt);et.style("display",null).attr("transform",`translate(${nt+10},${h.top-80})`),z.forEach((J,_t)=>{const wt=C[J].reduce((rt,$t)=>Math.abs($t[0]-ft)<Math.abs(rt[0]-ft)?$t:rt);ot[_t].text(`${J}: ${wt[1].toFixed(5)}`)})}).on("mouseout",()=>{et.style("display","none")}),P.append("rect").attr("x",d-h.right).attr("y",h.top).attr("width",60).attr("height",f-h.top-h.bottom).attr("fill","transparent").on("mousemove",tt=>{const[,nt]=We(tt),ft=b.invert(nt);et.style("display",null).attr("transform",`translate(${d-h.right-100},${nt-20})`),z.forEach((J,_t)=>{const wt=k[J].reduce((rt,$t)=>Math.abs($t[0]-ft)<Math.abs(rt[0]-ft)?$t:rt);ot[_t].text(`${J}: ${wt[1].toFixed(6)}`)})}).on("mouseout",()=>{et.style("display","none")})}de(()=>{const l=new IntersectionObserver(p=>{p.forEach(d=>{if(d.isIntersecting){const f=i.findIndex(h=>h===d.target);f!==-1&&n(1,r=f)}})},{threshold:.5});return i.forEach(p=>{p&&l.observe(p)}),()=>l.disconnect()});function c(l){ye[l?"unshift":"push"](()=>{a=l,n(0,a),n(1,r)})}return t.$$set=l=>{"currentStep"in l&&n(1,r=l.currentStep)},t.$$.update=()=>{t.$$.dirty&3&&a&&(n(0,a.innerHTML="",a),s(r,a,Af,Nf,o))},[a,r,s,c]}class If extends re{constructor(e){super(),ie(this,e,Cf,Sf,Kt,{currentStep:1,todosCortes:2})}get todosCortes(){return this.$$.ctx[2]}}function Tf(t){let e,n=t[1]("step3.step_not_available",{values:{number:t[0]+1}})+"",r;return{c(){e=A("p"),r=Z(n)},l(i){e=N(i,"P",{});var a=w(e);r=Q(a,n),a.forEach(g)},m(i,a){X(i,e,a),m(e,r)},p(i,a){a&3&&n!==(n=i[1]("step3.step_not_available",{values:{number:i[0]+1}})+"")&&pt(r,n)},d(i){i&&g(e)}}}function zf(t){let e,n=t[1]("step3.steps")[t[0]].title+"",r,i,a,o,s=t[1]("step3.steps")[t[0]].content+"";return{c(){e=A("h3"),r=Z(n),i=W(),a=A("p"),o=new te(!1),this.h()},l(c){e=N(c,"H3",{class:!0});var l=w(e);r=Q(l,n),l.forEach(g),i=K(c),a=N(c,"P",{});var p=w(a);o=ee(p,!1),p.forEach(g),this.h()},h(){u(e,"class","text-xl font-semibold"),o.a=null},m(c,l){X(c,e,l),m(e,r),X(c,i,l),X(c,a,l),o.m(s,a)},p(c,l){l&3&&n!==(n=c[1]("step3.steps")[c[0]].title+"")&&pt(r,n),l&3&&s!==(s=c[1]("step3.steps")[c[0]].content+"")&&o.p(s)},d(c){c&&(g(e),g(i),g(a))}}}function Df(t){let e,n;function r(o,s){return s&3&&(e=null),e==null&&(e=!!o[1]("step3.steps")[o[0]]),e?zf:Tf}let i=r(t,-1),a=i(t);return{c(){a.c(),n=_e()},l(o){a.l(o),n=_e()},m(o,s){a.m(o,s),X(o,n,s)},p(o,[s]){i===(i=r(o,s))&&a?a.p(o,s):(a.d(1),a=i(o),a&&(a.c(),a.m(n.parentNode,n)))},i:Ct,o:Ct,d(o){o&&g(n),a.d(o)}}}function Vf(t,e,n){let r;Fe(t,rn,a=>n(1,r=a));let{stepIndex:i}=e;return t.$$set=a=>{"stepIndex"in a&&n(0,i=a.stepIndex)},[i,r]}class Lf extends re{constructor(e){super(),ie(this,e,Vf,Df,Kt,{stepIndex:0})}}function ra(t,e,n){const r=t.slice();return r[4]=e[n],r[5]=e,r[6]=n,r}function Pf(t){let e,n,r=t[6]+1+"",i,a;return{c(){e=A("p"),n=Z("Profundidade "),i=Z(r),a=Z(": Cortamos o espaço novamente...")},l(o){e=N(o,"P",{});var s=w(e);n=Q(s,"Profundidade "),i=Q(s,r),a=Q(s,": Cortamos o espaço novamente..."),s.forEach(g)},m(o,s){X(o,e,s),m(e,n),m(e,i),m(e,a)},i:Ct,o:Ct,d(o){o&&g(e)}}}function Rf(t){let e,n;return e=new Lf({props:{stepIndex:t[6]}}),{c(){le(e.$$.fragment)},l(r){ce(e.$$.fragment,r)},m(r,i){ue(e,r,i),n=!0},i(r){n||(Lt(e.$$.fragment,r),n=!0)},o(r){Rt(e.$$.fragment,r),n=!1},d(r){fe(e,r)}}}function ia(t){let e,n,r,i,a=t[6],o;const s=[Rf,Pf],c=[];function l(f,h){return f[6]<5?0:1}n=l(t),r=c[n]=s[n](t);const p=()=>t[3](e,a),d=()=>t[3](null,a);return{c(){e=A("div"),r.c(),i=W(),this.h()},l(f){e=N(f,"DIV",{class:!0});var h=w(e);r.l(h),i=K(h),h.forEach(g),this.h()},h(){u(e,"class","step svelte-adas60"),Ei(e,"active",t[6]===t[0])},m(f,h){X(f,e,h),c[n].m(e,null),m(e,i),p(),o=!0},p(f,h){t=f,a!==t[6]&&(d(),a=t[6],p()),(!o||h&1)&&Ei(e,"active",t[6]===t[0])},i(f){o||(Lt(r),o=!0)},o(f){Rt(r),o=!1},d(f){f&&g(e),c[n].d(),d()}}}function Ff(t){let e,n,r,i,a,o,s,c,l,p,d,f,h=ne(Array(aa)),_=[];for(let y=0;y<h.length;y+=1)_[y]=ia(ra(t,h,y));const v=y=>Rt(_[y],1,1,()=>{_[y]=null});return c=new If({props:{currentStep:t[0]}}),d=new Mf({props:{treeData:t[2],step:t[0]}}),{c(){e=A("div"),n=A("div"),r=A("div");for(let y=0;y<_.length;y+=1)_[y].c();i=W(),a=A("div"),o=A("div"),s=A("div"),le(c.$$.fragment),l=W(),p=A("div"),le(d.$$.fragment),this.h()},l(y){e=N(y,"DIV",{});var x=w(e);n=N(x,"DIV",{class:!0});var E=w(n);r=N(E,"DIV",{class:!0});var $=w(r);for(let I=0;I<_.length;I+=1)_[I].l($);$.forEach(g),i=K(E),a=N(E,"DIV",{class:!0});var b=w(a);o=N(b,"DIV",{class:!0});var M=w(o);s=N(M,"DIV",{class:!0});var R=w(s);ce(c.$$.fragment,R),R.forEach(g),l=K(M),p=N(M,"DIV",{class:!0});var B=w(p);ce(d.$$.fragment,B),B.forEach(g),M.forEach(g),b.forEach(g),E.forEach(g),x.forEach(g),this.h()},h(){u(r,"class","steps svelte-adas60"),u(s,"class","scroll-container-svg svelte-adas60"),u(p,"class","tree-container-svg svelte-adas60"),u(o,"class","dual-tree svelte-adas60"),u(a,"class","viz svelte-adas60"),u(n,"class","scroll-container svelte-adas60")},m(y,x){X(y,e,x),m(e,n),m(n,r);for(let E=0;E<_.length;E+=1)_[E]&&_[E].m(r,null);m(n,i),m(n,a),m(a,o),m(o,s),ue(c,s,null),m(o,l),m(o,p),ue(d,p,null),f=!0},p(y,[x]){if(x&3){h=ne(Array(aa));let b;for(b=0;b<h.length;b+=1){const M=ra(y,h,b);_[b]?(_[b].p(M,x),Lt(_[b],1)):(_[b]=ia(M),_[b].c(),Lt(_[b],1),_[b].m(r,null))}for(mn(),b=h.length;b<_.length;b+=1)v(b);gn()}const E={};x&1&&(E.currentStep=y[0]),c.$set(E);const $={};x&1&&($.step=y[0]),d.$set($)},i(y){if(!f){for(let x=0;x<h.length;x+=1)Lt(_[x]);Lt(c.$$.fragment,y),Lt(d.$$.fragment,y),f=!0}},o(y){_=_.filter(Boolean);for(let x=0;x<_.length;x+=1)Rt(_[x]);Rt(c.$$.fragment,y),Rt(d.$$.fragment,y),f=!1},d(y){y&&g(e),Ke(_,y),fe(c),fe(d)}}}const aa=10;function Bf(t,e,n){let r=0,i=[];const a={name:`median_house_value 
≤ 185300.00`,children:[{name:`median_house_value 
≤ 112500.00`,children:[{name:`median_house_value 
≤ 72600.00`,children:[{name:"Sacramento"},{name:`total_bedrooms 
≤ 2061.00`,children:[{name:"Sacramento"},{name:"Sacramento"}]}]},{name:`total_bedrooms 
≤ 2324.00`,children:[{name:"Sacramento"},{name:"Sacramento"}]}]},{name:`median_house_value 
≤ 237500.00`,children:[{name:"San Francisco"},{name:`total_bedrooms 
≤ 1335.00`,children:[{name:"San Francisco"},{name:`median_house_value 
≤ 328100.00`,children:[{name:`median_house_value 
≤ 297600.00`,children:[{name:`total_bedrooms 
≤ 1871.00`,children:[{name:"San Francisco"},{name:"San Francisco"}]},{name:"San Francisco"}]},{name:"San Francisco"}]}]}]}]};de(()=>{const s=new IntersectionObserver(c=>{c.forEach(l=>{if(l.isIntersecting){const p=i.findIndex(d=>d===l.target);p!==-1&&n(0,r=p)}})},{threshold:.9});return i.forEach(c=>{c&&s.observe(c)}),()=>s.disconnect()});function o(s,c){ye[s?"unshift":"push"](()=>{i[c]=s,n(1,i)})}return[r,i,a,o]}class Of extends re{constructor(e){super(),ie(this,e,Bf,Ff,Kt,{})}}function Hf(t){let e,n;return{c(){e=A("div"),n=U("svg"),this.h()},l(r){e=N(r,"DIV",{class:!0});var i=w(e);n=j(i,"svg",{role:!0,"aria-label":!0,class:!0}),w(n).forEach(g),i.forEach(g),this.h()},h(){u(n,"role","img"),u(n,"aria-label","Árvore de decisão estilizada"),u(n,"class","svelte-if14z3"),u(e,"class","intro-tree-wrapper svelte-if14z3")},m(r,i){X(r,e,i),m(e,n),t[1](n)},p:Ct,i:Ct,o:Ct,d(r){r&&g(e),t[1](null)}}}const kr=400,qf=200;function Xf(t,e,n){let r;const i={name:"Chuva?",children:[{name:"Frio?",children:[{name:"Jogar"},{name:"Não jogar"}]},{name:"Não jogar"}]};de(()=>{const o={top:40,right:80,bottom:40,left:80},s=Te(i),l=s.leaves().length*qf+o.left+o.right,p=l-o.left-o.right,d=kr-o.top-o.bottom;kn().size([p,d]).separation((k,P)=>k.parent===P.parent?1.5:2.5)(s);const h=s.descendants(),_=s.links(),v=Ht(r);v.selectAll("*").remove();const x=v.attr("width",l).attr("height",kr).attr("viewBox",`0 0 ${l} ${kr}`).attr("preserveAspectRatio","xMidYMid meet").style("background-color","var(--color-background-intro)").style("font-family","'Segoe UI', Tahoma, Geneva, Verdana, sans-serif").append("g").attr("transform",`translate(${o.left},${o.top})`),E=`viz-${Date.now()}`,$=`${E}-gradient`,b=`${E}-shadow`,M=x.append("defs");M.append("filter").attr("id",b).attr("height","130%").append("feDropShadow").attr("dx",2).attr("dy",2).attr("stdDeviation",2).attr("flood-color","var(--viz-shadow)").attr("flood-opacity",.4);const B=M.append("radialGradient").attr("id",$).attr("cx","50%").attr("cy","50%").attr("r","50%");B.append("stop").attr("offset","0%").attr("stop-color","var(--viz-node-fill)"),B.append("stop").attr("offset","100%").attr("stop-color","var(--viz-node-stroke)");const I=sr().x(k=>k.x).y(k=>k.y);x.selectAll(".link").data(_).join("path").attr("class","link").attr("fill","none").attr("stroke","var(--viz-link)").attr("stroke-width",5).attr("filter",`url(#${b})`).attr("d",k=>{const P={x:k.source.x,y:k.source.y};return I({source:P,target:P})}).transition().duration(800).delay(k=>k.target.depth*300).ease(Xi).attr("d",k=>I(k));const z=x.selectAll(".node").data(h).join("g").attr("class","node").attr("transform",k=>`translate(${k.x},${k.y}) scale(0.5)`).style("opacity",0);z.transition().duration(600).delay(k=>k.depth*300).ease(Xi).style("opacity",1).attr("transform",k=>`translate(${k.x},${k.y}) scale(1)`),z.append("circle").attr("r",25).attr("fill",`url(#${$})`).attr("stroke","var(--viz-node-stroke)").attr("stroke-width",2).on("mouseover",function(){Ht(this).attr("fill","var(--viz-node-hover)").attr("r",27)}).on("mouseout",function(){Ht(this).attr("fill",`url(#${$})`).attr("r",25)}),z.append("text").attr("dy","0.35em").attr("y",k=>k.children?-30:39).attr("text-anchor","middle").style("font-size","16px").style("fill","var(--viz-text)").style("text-shadow","0 0 2px var(--viz-text-shadow)").selectAll("tspan").data(k=>k.data.name.split(`
`)).join("tspan").attr("x",0).attr("dy",(k,P)=>P===0?"0":"1.5em").text(k=>k)});function a(o){ye[o?"unshift":"push"](()=>{r=o,n(0,r)})}return[r,a]}class Gf extends re{constructor(e){super(),ie(this,e,Xf,Hf,Kt,{})}}function Yf(t){let e,n,r,i=t[1]("hero.title")+"",a,o,s,c=t[1]("hero.subtitle")+"",l,p,d,f,h;return f=new Gf({}),{c(){e=A("div"),n=A("div"),r=A("h1"),a=Z(i),o=W(),s=A("p"),l=Z(c),p=W(),d=A("div"),le(f.$$.fragment),this.h()},l(_){e=N(_,"DIV",{class:!0});var v=w(e);n=N(v,"DIV",{class:!0});var y=w(n);r=N(y,"H1",{class:!0});var x=w(r);a=Q(x,i),x.forEach(g),o=K(y),s=N(y,"P",{class:!0});var E=w(s);l=Q(E,c),E.forEach(g),y.forEach(g),p=K(v),d=N(v,"DIV",{class:!0});var $=w(d);ce(f.$$.fragment,$),$.forEach(g),v.forEach(g),this.h()},h(){u(r,"class","svelte-1unvdcb"),u(s,"class","svelte-1unvdcb"),u(n,"class","text svelte-1unvdcb"),u(d,"class","viz svelte-1unvdcb"),u(e,"class","cover-container svelte-1unvdcb")},m(_,v){X(_,e,v),m(e,n),m(n,r),m(r,a),m(n,o),m(n,s),m(s,l),m(e,p),m(e,d),ue(f,d,null),t[2](e),h=!0},p(_,[v]){(!h||v&2)&&i!==(i=_[1]("hero.title")+"")&&pt(a,i),(!h||v&2)&&c!==(c=_[1]("hero.subtitle")+"")&&pt(l,c)},i(_){h||(Lt(f.$$.fragment,_),h=!0)},o(_){Rt(f.$$.fragment,_),h=!1},d(_){_&&g(e),fe(f),t[2](null)}}}const Uf=650,jf=400;function Wf(t,e,n){let r;Fe(t,rn,c=>n(1,r=c));let i,a;const o={name:"Raiz",children:[{name:"Sim",children:[{name:"Classe A"},{name:"Classe B"}]},{name:"Não"}]};de(()=>{const c=Te(o);kn().size([Uf-40,jf-40])(c);const p=Ht(a);p.selectAll("*").remove(),p.selectAll("line.link").data(c.links()).enter().append("line").classed("link",!0).attr("x1",f=>f.source.x+20).attr("y1",f=>f.source.y+20).attr("x2",f=>f.target.x+20).attr("y2",f=>f.target.y+20).attr("stroke","var(--color-secondary2)").attr("stroke-width",7),p.selectAll("g.node").data(c.descendants()).enter().append("g").classed("node",!0).attr("transform",f=>`translate(${f.x+20},${f.y+20})`).append("circle").attr("r",25).attr("fill","var(--color-primary)")});function s(c){ye[c?"unshift":"push"](()=>{i=c,n(0,i)})}return[i,r,s]}class Kf extends re{constructor(e){super(),ie(this,e,Wf,Yf,Kt,{})}}function oa(t,e,n){const r=t.slice();return r[57]=e[n],r}function sa(t,e,n){const r=t.slice();return r[60]=e[n],r}function la(t,e,n){const r=t.slice();return r[60]=e[n],r}function ca(t,e,n){const r=t.slice();return r[60]=e[n],r}function ua(t){let e;return{c(){e=U("path"),this.h()},l(n){e=j(n,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0,class:!0}),w(e).forEach(g),this.h()},h(){u(e,"d",t[12]),u(e,"fill","none"),u(e,"stroke","red"),u(e,"stroke-width","2"),u(e,"opacity","0.6"),u(e,"class","proportion-line")},m(n,r){X(n,e,r)},p(n,r){r[0]&4096&&u(e,"d",n[12])},d(n){n&&g(e)}}}function fa(t){let e;return{c(){e=U("path"),this.h()},l(n){e=j(n,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0,class:!0}),w(e).forEach(g),this.h()},h(){u(e,"d",t[13]),u(e,"fill","none"),u(e,"stroke","yellow"),u(e,"stroke-width","2"),u(e,"opacity","0.6"),u(e,"class","proportion-line")},m(n,r){X(n,e,r)},p(n,r){r[0]&8192&&u(e,"d",n[13])},d(n){n&&g(e)}}}function ha(t){let e;return{c(){e=U("path"),this.h()},l(n){e=j(n,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0,class:!0}),w(e).forEach(g),this.h()},h(){u(e,"d",t[14]),u(e,"fill","none"),u(e,"stroke","var(--color-text)"),u(e,"stroke-width","2"),u(e,"opacity","0.9"),u(e,"class","proportion-line")},m(n,r){X(n,e,r)},p(n,r){r[0]&16384&&u(e,"d",n[14])},d(n){n&&g(e)}}}function da(t){let e,n,r;return{c(){e=U("line"),this.h()},l(i){e=j(i,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0,opacity:!0}),w(e).forEach(g),this.h()},h(){u(e,"x1",n=t[5](t[16].cut)),u(e,"x2",r=t[5](t[16].cut)),u(e,"y1",0),u(e,"y2",t[25]),u(e,"stroke","gray"),u(e,"stroke-width","1.5"),u(e,"stroke-dasharray","4,3"),u(e,"opacity","0.7")},m(i,a){X(i,e,a)},p(i,a){a[0]&65568&&n!==(n=i[5](i[16].cut))&&u(e,"x1",n),a[0]&65568&&r!==(r=i[5](i[16].cut))&&u(e,"x2",r)},d(i){i&&g(e)}}}function pa(t){let e,n,r,i=t[60].toFixed(1)+"",a,o;return{c(){e=U("g"),n=U("line"),r=U("text"),a=Z(i),this.h()},l(s){e=j(s,"g",{transform:!0});var c=w(e);n=j(c,"line",{x1:!0,x2:!0,stroke:!0,opacity:!0}),w(n).forEach(g),r=j(c,"text",{x:!0,dy:!0,"text-anchor":!0,class:!0,fill:!0});var l=w(r);a=Q(l,i),l.forEach(g),c.forEach(g),this.h()},h(){u(n,"x1","-6"),u(n,"x2","0"),u(n,"stroke","currentColor"),u(n,"opacity","0.6"),u(r,"x","-10"),u(r,"dy","0.35em"),u(r,"text-anchor","end"),u(r,"class","tick-label svelte-f8y3hy"),u(r,"fill","var(--color-text)"),u(e,"transform",o="translate(0, "+t[15](t[60])+")")},m(s,c){X(s,e,c),m(e,n),m(e,r),m(r,a)},p(s,c){c[0]&32768&&o!==(o="translate(0, "+s[15](s[60])+")")&&u(e,"transform",o)},d(s){s&&g(e)}}}function ma(t){let e,n,r,i=t[60].label+"",a,o;return{c(){e=U("g"),n=U("line"),r=U("text"),a=Z(i),this.h()},l(s){e=j(s,"g",{transform:!0});var c=w(e);n=j(c,"line",{y1:!0,y2:!0,stroke:!0,opacity:!0}),w(n).forEach(g),r=j(c,"text",{y:!0,"text-anchor":!0,class:!0,fill:!0});var l=w(r);a=Q(l,i),l.forEach(g),c.forEach(g),this.h()},h(){u(n,"y1","0"),u(n,"y2","6"),u(n,"stroke","currentColor"),u(n,"opacity","0.6"),u(r,"y","20"),u(r,"text-anchor","middle"),u(r,"class","tick-label svelte-f8y3hy"),u(r,"fill","var(--color-text)"),u(e,"transform",o="translate("+t[60].x+",0)")},m(s,c){X(s,e,c),m(e,n),m(e,r),m(r,a)},p(s,c){c[0]&524288&&i!==(i=s[60].label+"")&&pt(a,i),c[0]&524288&&o!==(o="translate("+s[60].x+",0)")&&u(e,"transform",o)},d(s){s&&g(e)}}}function ga(t){let e,n,r,i=t[60].label+"",a,o;return{c(){e=U("g"),n=U("line"),r=U("text"),a=Z(i),this.h()},l(s){e=j(s,"g",{transform:!0});var c=w(e);n=j(c,"line",{x1:!0,x2:!0,stroke:!0,opacity:!0}),w(n).forEach(g),r=j(c,"text",{x:!0,dy:!0,"text-anchor":!0,class:!0,fill:!0});var l=w(r);a=Q(l,i),l.forEach(g),c.forEach(g),this.h()},h(){u(n,"x1","-6"),u(n,"x2","0"),u(n,"stroke","currentColor"),u(n,"opacity","0.6"),u(r,"x","-10"),u(r,"dy","0.35em"),u(r,"text-anchor","end"),u(r,"class","tick-label svelte-f8y3hy"),u(r,"fill","var(--color-text)"),u(e,"transform",o="translate(0,"+t[60].y+")")},m(s,c){X(s,e,c),m(e,n),m(e,r),m(r,a)},p(s,c){c[0]&1048576&&i!==(i=s[60].label+"")&&pt(a,i),c[0]&1048576&&o!==(o="translate(0,"+s[60].y+")")&&u(e,"transform",o)},d(s){s&&g(e)}}}function _a(t){let e,n,r,i,a,o,s;function c(...p){return t[37](t[57],...p)}function l(...p){return t[38](t[57],...p)}return{c(){e=U("circle"),this.h()},l(p){e=j(p,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0,opacity:!0}),w(e).forEach(g),this.h()},h(){u(e,"cx",n=t[57].x),u(e,"cy",r=t[57].y),u(e,"r",t[2]),u(e,"fill",i=t[57].city==="Sacramento"?"var(--color-classe1)":"var(--color-classe0)"),u(e,"stroke",a=t[57].city==="Sacramento"?"var(--color-classe1)":"var(--color-classe0)"),u(e,"stroke-width","1.5"),u(e,"class","dot svelte-f8y3hy"),u(e,"opacity","0.8")},m(p,d){X(p,e,d),o||(s=[he(e,"mouseenter",c),he(e,"mouseleave",t[29]),he(e,"mousemove",l)],o=!0)},p(p,d){t=p,d[0]&2048&&n!==(n=t[57].x)&&u(e,"cx",n),d[0]&2048&&r!==(r=t[57].y)&&u(e,"cy",r),d[0]&4&&u(e,"r",t[2]),d[0]&2048&&i!==(i=t[57].city==="Sacramento"?"var(--color-classe1)":"var(--color-classe0)")&&u(e,"fill",i),d[0]&2048&&a!==(a=t[57].city==="Sacramento"?"var(--color-classe1)":"var(--color-classe0)")&&u(e,"stroke",a)},d(p){p&&g(e),o=!1,Pr(s)}}}function va(t){var $,b;let e,n,r,i,a,o,s=t[21]("scatterplot.cutoff_tooltip",{values:{value:t[8]}})+"",c,l,p,d=(($=t[17])==null?void 0:$.y.toFixed(3))+"",f,h,_,v=((b=t[18])==null?void 0:b.y.toFixed(3))+"",y,x,E;return{c(){e=U("line"),n=U("line"),r=U("circle"),i=U("g"),a=U("rect"),o=U("text"),c=Z(s),l=U("text"),p=Z("Impureza esquerda: "),f=Z(d),h=U("text"),_=Z("Impureza direita: "),y=Z(v),this.h()},l(M){e=j(M,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0,class:!0}),w(e).forEach(g),n=j(M,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0,class:!0}),w(n).forEach(g),r=j(M,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),w(r).forEach(g),i=j(M,"g",{class:!0,transform:!0});var R=w(i);a=j(R,"rect",{x:!0,width:!0,height:!0,y:!0,rx:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-opacity":!0,filter:!0}),w(a).forEach(g),o=j(R,"text",{x:!0,y:!0,"text-anchor":!0,fill:!0,"font-size":!0,"font-weight":!0});var B=w(o);c=Q(B,s),B.forEach(g),l=j(R,"text",{x:!0,y:!0,"text-anchor":!0,fill:!0,"font-size":!0});var I=w(l);p=Q(I,"Impureza esquerda: "),f=Q(I,d),I.forEach(g),h=j(R,"text",{x:!0,y:!0,"text-anchor":!0,fill:!0,"font-size":!0});var z=w(h);_=Q(z,"Impureza direita: "),y=Q(z,v),z.forEach(g),R.forEach(g),this.h()},h(){u(e,"x1",t[6]),u(e,"y1","0"),u(e,"x2",t[6]),u(e,"y2",t[26]),u(e,"stroke","#28a745"),u(e,"stroke-width","2"),u(e,"stroke-dasharray","5,5"),u(e,"class","cutoff-line svelte-f8y3hy"),u(n,"x1",t[6]),u(n,"y1",t[26]+40),u(n,"x2",t[6]),u(n,"y2",t[26]+t[24]),u(n,"stroke","#28a745"),u(n,"stroke-width","2"),u(n,"stroke-dasharray","5,5"),u(n,"class","cutoff-line svelte-f8y3hy"),u(r,"cx",t[6]),u(r,"cy","-15"),u(r,"r","8"),u(r,"fill","#28a745"),u(r,"stroke","currentColor"),u(r,"stroke-width","2"),u(r,"class","cutoff-handle svelte-f8y3hy"),u(a,"x","-7"),u(a,"width","130"),u(a,"height","55"),u(a,"y","0"),u(a,"rx","4"),u(a,"fill","rgba(40, 167, 69, 0.95)"),u(a,"stroke","currentColor"),u(a,"stroke-width","1"),u(a,"stroke-opacity","0.3"),u(a,"filter","drop-shadow(0 2px 4px rgba(0,0,0,0.1))"),u(o,"x","57.5"),u(o,"y","16"),u(o,"text-anchor","middle"),u(o,"fill","white"),u(o,"font-size","12"),u(o,"font-weight","600"),u(l,"x","57.5"),u(l,"y","34"),u(l,"text-anchor","middle"),u(l,"fill","white"),u(l,"font-size","10"),u(h,"x","57.5"),u(h,"y","49"),u(h,"text-anchor","middle"),u(h,"fill","white"),u(h,"font-size","10"),u(i,"class","cutoff-tooltip svelte-f8y3hy"),u(i,"transform","translate("+(t[23]-120)+", 20)")},m(M,R){X(M,e,R),X(M,n,R),X(M,r,R),X(M,i,R),m(i,a),m(i,o),m(o,c),m(i,l),m(l,p),m(l,f),m(i,h),m(h,_),m(h,y),x||(E=he(r,"mousedown",t[27]),x=!0)},p(M,R){var B,I;R[0]&64&&u(e,"x1",M[6]),R[0]&64&&u(e,"x2",M[6]),R[0]&64&&u(n,"x1",M[6]),R[0]&64&&u(n,"x2",M[6]),R[0]&64&&u(r,"cx",M[6]),R[0]&2097408&&s!==(s=M[21]("scatterplot.cutoff_tooltip",{values:{value:M[8]}})+"")&&pt(c,s),R[0]&131072&&d!==(d=((B=M[17])==null?void 0:B.y.toFixed(3))+"")&&pt(f,d),R[0]&262144&&v!==(v=((I=M[18])==null?void 0:I.y.toFixed(3))+"")&&pt(y,v)},d(M){M&&(g(e),g(n),g(r),g(i)),x=!1,E()}}}function ya(t){let e,n,r,i=t[21]("scatterplot.point_tooltip.property_of",{values:{city:t[9].city}})+"",a,o,s=t[21]("scatterplot.point_tooltip.value",{values:{value:t[9].value.toLocaleString()}})+"",c,l,p=t[21]("scatterplot.point_tooltip.frequency",{values:{frequency:t[9].frequency}})+"",d,f,h=(t[9].value<t[4]?t[21]("scatterplot.point_tooltip.below_cutoff"):t[21]("scatterplot.point_tooltip.above_cutoff"))+"",_,v;return{c(){e=U("g"),n=U("rect"),r=U("text"),a=Z(i),o=U("text"),c=Z(s),l=U("text"),d=Z(p),f=U("text"),_=Z(h),this.h()},l(y){e=j(y,"g",{transform:!0});var x=w(e);n=j(x,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,fill:!0,stroke:!0,"stroke-width":!0,filter:!0,class:!0}),w(n).forEach(g),r=j(x,"text",{x:!0,y:!0,fill:!0,"font-size":!0,"font-weight":!0,class:!0});var E=w(r);a=Q(E,i),E.forEach(g),o=j(x,"text",{x:!0,y:!0,fill:!0,"font-size":!0,class:!0});var $=w(o);c=Q($,s),$.forEach(g),l=j(x,"text",{x:!0,y:!0,fill:!0,"font-size":!0,class:!0});var b=w(l);d=Q(b,p),b.forEach(g),f=j(x,"text",{x:!0,y:!0,fill:!0,"font-size":!0,class:!0});var M=w(f);_=Q(M,h),M.forEach(g),x.forEach(g),this.h()},h(){u(n,"x","0"),u(n,"y","0"),u(n,"width","280"),u(n,"height","85"),u(n,"rx","6"),u(n,"fill","rgba(0, 0, 0, 0.95)"),u(n,"stroke","rgba(255, 255, 255, 0.2)"),u(n,"stroke-width","1"),u(n,"filter","drop-shadow(0 4px 8px rgba(0,0,0,0.3))"),u(n,"class","tooltip-bg svelte-f8y3hy"),u(r,"x","10"),u(r,"y","18"),u(r,"fill","white"),u(r,"font-size","12"),u(r,"font-weight","bold"),u(r,"class","tooltip-title svelte-f8y3hy"),u(o,"x","10"),u(o,"y","35"),u(o,"fill","#ccc"),u(o,"font-size","11"),u(o,"class","tooltip-text svelte-f8y3hy"),u(l,"x","10"),u(l,"y","50"),u(l,"fill","#ccc"),u(l,"font-size","11"),u(l,"class","tooltip-text svelte-f8y3hy"),u(f,"x","10"),u(f,"y","65"),u(f,"fill","#ccc"),u(f,"font-size","11"),u(f,"class","tooltip-text svelte-f8y3hy"),u(e,"transform",v="translate("+(t[10].x+10)+", "+(t[10].y-10)+")")},m(y,x){X(y,e,x),m(e,n),m(e,r),m(r,a),m(e,o),m(o,c),m(e,l),m(l,d),m(e,f),m(f,_)},p(y,x){x[0]&2097664&&i!==(i=y[21]("scatterplot.point_tooltip.property_of",{values:{city:y[9].city}})+"")&&pt(a,i),x[0]&2097664&&s!==(s=y[21]("scatterplot.point_tooltip.value",{values:{value:y[9].value.toLocaleString()}})+"")&&pt(c,s),x[0]&2097664&&p!==(p=y[21]("scatterplot.point_tooltip.frequency",{values:{frequency:y[9].frequency}})+"")&&pt(d,p),x[0]&2097680&&h!==(h=(y[9].value<y[4]?y[21]("scatterplot.point_tooltip.below_cutoff"):y[21]("scatterplot.point_tooltip.above_cutoff"))+"")&&pt(_,h),x[0]&1024&&v!==(v="translate("+(y[10].x+10)+", "+(y[10].y-10)+")")&&u(e,"transform",v)},d(y){y&&g(e)}}}function Jf(t){let e,n,r,i,a,o,s,c,l,p,d,f,h,_,v,y,x,E,$,b,M,R,B,I,z,C,k,P,F,q,mt,gt=(t[3]||t[21]("scatterplot.value"))+"",G,et,ot=t[21]("scatterplot.frequency")+"",tt,nt,ft,J,_t,ht,wt,rt,$t,xt,bt=t[12]&&ua(t),st=t[13]&&fa(t),ct=t[14]&&ha(t),it=t[16]&&da(t),kt=ne(Un(0,1.1,.2)),vt=[];for(let S=0;S<kt.length;S+=1)vt[S]=pa(ca(t,kt,S));let zt=ne(t[19]),Et=[];for(let S=0;S<zt.length;S+=1)Et[S]=ma(la(t,zt,S));let Dt=ne(t[20]),Mt=[];for(let S=0;S<Dt.length;S+=1)Mt[S]=ga(sa(t,Dt,S));let It=ne(t[11]),At=[];for(let S=0;S<It.length;S+=1)At[S]=_a(oa(t,It,S));let V=t[5]&&va(t),D=t[9]&&ya(t);return{c(){e=A("div"),n=U("svg"),r=U("g"),i=U("g"),bt&&bt.c(),a=_e(),st&&st.c(),o=_e(),ct&&ct.c(),s=_e(),it&&it.c(),c=U("g"),l=U("line");for(let S=0;S<vt.length;S+=1)vt[S].c();p=U("g"),d=U("g"),f=U("line"),h=U("text"),_=Z("Impureza esquerda"),v=U("g"),y=U("line"),x=U("text"),E=Z("Impureza direita"),$=U("g"),b=U("line"),M=U("text"),R=Z("Impureza ponderada"),B=U("g"),I=U("line"),z=U("text"),C=Z("Melhor corte"),k=U("g"),P=U("line");for(let S=0;S<Et.length;S+=1)Et[S].c();F=U("g"),q=U("line");for(let S=0;S<Mt.length;S+=1)Mt[S].c();mt=U("text"),G=Z(gt),et=U("text"),tt=Z(ot),nt=U("g"),ft=U("circle"),J=U("text"),_t=Z("San Francisco"),ht=U("g"),wt=U("circle"),rt=U("text"),$t=Z("Sacramento");for(let S=0;S<At.length;S+=1)At[S].c();xt=_e(),V&&V.c(),D&&D.c(),this.h()},l(S){e=N(S,"DIV",{class:!0});var O=w(e);n=j(O,"svg",{width:!0,height:!0});var L=w(n);r=j(L,"g",{transform:!0});var dt=w(r);i=j(dt,"g",{transform:!0});var Y=w(i);bt&&bt.l(Y),a=_e(),st&&st.l(Y),o=_e(),ct&&ct.l(Y),s=_e(),it&&it.l(Y),c=j(Y,"g",{class:!0});var St=w(c);l=j(St,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),w(l).forEach(g);for(let Ot=0;Ot<vt.length;Ot+=1)vt[Ot].l(St);St.forEach(g),Y.forEach(g),p=j(dt,"g",{transform:!0});var ut=w(p);d=j(ut,"g",{transform:!0});var H=w(d);f=j(H,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),w(f).forEach(g),h=j(H,"text",{x:!0,y:!0,"font-size":!0,fill:!0});var at=w(h);_=Q(at,"Impureza esquerda"),at.forEach(g),H.forEach(g),v=j(ut,"g",{transform:!0});var Vt=w(v);y=j(Vt,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),w(y).forEach(g),x=j(Vt,"text",{x:!0,y:!0,"font-size":!0,fill:!0});var Nt=w(x);E=Q(Nt,"Impureza direita"),Nt.forEach(g),Vt.forEach(g),$=j(ut,"g",{transform:!0});var Tt=w($);b=j(Tt,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),w(b).forEach(g),M=j(Tt,"text",{x:!0,y:!0,"font-size":!0,fill:!0});var yt=w(M);R=Q(yt,"Impureza ponderada"),yt.forEach(g),Tt.forEach(g),B=j(ut,"g",{transform:!0});var Pt=w(B);I=j(Pt,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0,opacity:!0}),w(I).forEach(g),z=j(Pt,"text",{x:!0,y:!0,"font-size":!0,fill:!0});var Bt=w(z);C=Q(Bt,"Melhor corte"),Bt.forEach(g),Pt.forEach(g),ut.forEach(g),k=j(dt,"g",{class:!0,transform:!0});var ae=w(k);P=j(ae,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),w(P).forEach(g);for(let Ot=0;Ot<Et.length;Ot+=1)Et[Ot].l(ae);ae.forEach(g),F=j(dt,"g",{class:!0});var me=w(F);q=j(me,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),w(q).forEach(g);for(let Ot=0;Ot<Mt.length;Ot+=1)Mt[Ot].l(me);me.forEach(g),mt=j(dt,"text",{x:!0,y:!0,"text-anchor":!0,class:!0,fill:!0});var Jt=w(mt);G=Q(Jt,gt),Jt.forEach(g),et=j(dt,"text",{x:!0,y:!0,"text-anchor":!0,class:!0,transform:!0,fill:!0});var we=w(et);tt=Q(we,ot),we.forEach(g),nt=j(dt,"g",{transform:!0});var qt=w(nt);ft=j(qt,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),w(ft).forEach(g),J=j(qt,"text",{x:!0,y:!0,"font-size":!0,fill:!0});var Xt=w(J);_t=Q(Xt,"San Francisco"),Xt.forEach(g),qt.forEach(g),ht=j(dt,"g",{transform:!0});var be=w(ht);wt=j(be,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),w(wt).forEach(g),rt=j(be,"text",{x:!0,y:!0,"font-size":!0,fill:!0});var ze=w(rt);$t=Q(ze,"Sacramento"),ze.forEach(g),be.forEach(g);for(let Ot=0;Ot<At.length;Ot+=1)At[Ot].l(dt);xt=_e(),V&&V.l(dt),dt.forEach(g),D&&D.l(L),L.forEach(g),O.forEach(g),this.h()},h(){u(l,"x1","0"),u(l,"y1","0"),u(l,"x2","0"),u(l,"y2",t[25]),u(l,"stroke","currentColor"),u(l,"stroke-width","1"),u(l,"opacity","0.6"),u(c,"class","axis svelte-f8y3hy"),u(i,"transform","translate(0, "+(t[26]+65)+")"),u(f,"x1","0"),u(f,"y1","5"),u(f,"x2","20"),u(f,"y2","5"),u(f,"stroke","red"),u(f,"stroke-width","2"),u(f,"opacity","0.6"),u(h,"x","25"),u(h,"y","9"),u(h,"font-size","9"),u(h,"fill","var(--color-text)"),u(d,"transform","translate(90, -30)"),u(y,"x1","0"),u(y,"y1","5"),u(y,"x2","20"),u(y,"y2","5"),u(y,"stroke","yellow"),u(y,"stroke-width","2"),u(y,"opacity","0.6"),u(x,"x","25"),u(x,"y","9"),u(x,"font-size","9"),u(x,"fill","var(--color-text)"),u(v,"transform","translate(90, -20)"),u(b,"x1","0"),u(b,"y1","5"),u(b,"x2","20"),u(b,"y2","5"),u(b,"stroke","var(--color-text)"),u(b,"stroke-width","2"),u(b,"opacity","0.9"),u(M,"x","25"),u(M,"y","9"),u(M,"font-size","9"),u(M,"fill","var(--color-text)"),u($,"transform","translate(90, -10)"),u(I,"x1","0"),u(I,"y1","5"),u(I,"x2","20"),u(I,"y2","5"),u(I,"stroke","gray"),u(I,"stroke-width","2"),u(I,"stroke-dasharray","4,3"),u(I,"opacity","0.9"),u(z,"x","25"),u(z,"y","9"),u(z,"font-size","9"),u(z,"fill","var(--color-text)"),u(B,"transform","translate(90, -40)"),u(p,"transform","translate("+(t[23]-160)+", "+(t[26]+65)+")"),u(P,"x1","0"),u(P,"y1","0"),u(P,"x2",t[23]),u(P,"y2","0"),u(P,"stroke","currentColor"),u(P,"stroke-width","1"),u(P,"opacity","0.6"),u(k,"class","axis svelte-f8y3hy"),u(k,"transform","translate(0,"+t[26]+")"),u(q,"x1","0"),u(q,"y1","0"),u(q,"x2","0"),u(q,"y2",t[26]),u(q,"stroke","currentColor"),u(q,"stroke-width","1"),u(q,"opacity","0.6"),u(F,"class","axis svelte-f8y3hy"),u(mt,"x",t[23]/2),u(mt,"y",t[26]+50),u(mt,"text-anchor","middle"),u(mt,"class","axis-label svelte-f8y3hy"),u(mt,"fill","var(--color-text)"),u(et,"x",-t[26]/2),u(et,"y","-60"),u(et,"text-anchor","middle"),u(et,"class","axis-label svelte-f8y3hy"),u(et,"transform","rotate(-90)"),u(et,"fill","var(--color-text)"),u(ft,"cx","5"),u(ft,"cy","6"),u(ft,"r","6"),u(ft,"fill","var(--color-classe0)"),u(J,"x","15"),u(J,"y","10"),u(J,"font-size","9"),u(J,"fill","var(--color-text)"),u(nt,"transform","translate("+(t[23]-50)+", -40)"),u(wt,"cx","5"),u(wt,"cy","6"),u(wt,"r","6"),u(wt,"fill","var(--color-classe1)"),u(rt,"x","15"),u(rt,"y","10"),u(rt,"font-size","9"),u(rt,"fill","var(--color-text)"),u(ht,"transform","translate("+(t[23]-50)+", -25)"),u(r,"transform","translate("+t[22].left+","+t[22].top+")"),u(n,"width",t[0]),u(n,"height",t[1]),u(e,"class","chart-container svelte-f8y3hy")},m(S,O){X(S,e,O),m(e,n),m(n,r),m(r,i),bt&&bt.m(i,null),m(i,a),st&&st.m(i,null),m(i,o),ct&&ct.m(i,null),m(i,s),it&&it.m(i,null),m(i,c),m(c,l);for(let L=0;L<vt.length;L+=1)vt[L]&&vt[L].m(c,null);m(r,p),m(p,d),m(d,f),m(d,h),m(h,_),m(p,v),m(v,y),m(v,x),m(x,E),m(p,$),m($,b),m($,M),m(M,R),m(p,B),m(B,I),m(B,z),m(z,C),m(r,k),m(k,P);for(let L=0;L<Et.length;L+=1)Et[L]&&Et[L].m(k,null);m(r,F),m(F,q);for(let L=0;L<Mt.length;L+=1)Mt[L]&&Mt[L].m(F,null);m(r,mt),m(mt,G),m(r,et),m(et,tt),m(r,nt),m(nt,ft),m(nt,J),m(J,_t),m(r,ht),m(ht,wt),m(ht,rt),m(rt,$t);for(let L=0;L<At.length;L+=1)At[L]&&At[L].m(r,null);m(r,xt),V&&V.m(r,null),D&&D.m(n,null),t[39](n)},p(S,O){if(S[12]?bt?bt.p(S,O):(bt=ua(S),bt.c(),bt.m(i,a)):bt&&(bt.d(1),bt=null),S[13]?st?st.p(S,O):(st=fa(S),st.c(),st.m(i,o)):st&&(st.d(1),st=null),S[14]?ct?ct.p(S,O):(ct=ha(S),ct.c(),ct.m(i,s)):ct&&(ct.d(1),ct=null),S[16]?it?it.p(S,O):(it=da(S),it.c(),it.m(i,c)):it&&(it.d(1),it=null),O[0]&32768){kt=ne(Un(0,1.1,.2));let L;for(L=0;L<kt.length;L+=1){const dt=ca(S,kt,L);vt[L]?vt[L].p(dt,O):(vt[L]=pa(dt),vt[L].c(),vt[L].m(c,null))}for(;L<vt.length;L+=1)vt[L].d(1);vt.length=kt.length}if(O[0]&524288){zt=ne(S[19]);let L;for(L=0;L<zt.length;L+=1){const dt=la(S,zt,L);Et[L]?Et[L].p(dt,O):(Et[L]=ma(dt),Et[L].c(),Et[L].m(k,null))}for(;L<Et.length;L+=1)Et[L].d(1);Et.length=zt.length}if(O[0]&1048576){Dt=ne(S[20]);let L;for(L=0;L<Dt.length;L+=1){const dt=sa(S,Dt,L);Mt[L]?Mt[L].p(dt,O):(Mt[L]=ga(dt),Mt[L].c(),Mt[L].m(F,null))}for(;L<Mt.length;L+=1)Mt[L].d(1);Mt.length=Dt.length}if(O[0]&2097160&&gt!==(gt=(S[3]||S[21]("scatterplot.value"))+"")&&pt(G,gt),O[0]&2097152&&ot!==(ot=S[21]("scatterplot.frequency")+"")&&pt(tt,ot),O[0]&805308420){It=ne(S[11]);let L;for(L=0;L<It.length;L+=1){const dt=oa(S,It,L);At[L]?At[L].p(dt,O):(At[L]=_a(dt),At[L].c(),At[L].m(r,xt))}for(;L<At.length;L+=1)At[L].d(1);At.length=It.length}S[5]?V?V.p(S,O):(V=va(S),V.c(),V.m(r,null)):V&&(V.d(1),V=null),S[9]?D?D.p(S,O):(D=ya(S),D.c(),D.m(n,null)):D&&(D.d(1),D=null),O[0]&1&&u(n,"width",S[0]),O[0]&2&&u(n,"height",S[1])},i:Ct,o:Ct,d(S){S&&g(e),bt&&bt.d(),st&&st.d(),ct&&ct.d(),it&&it.d(),Ke(vt,S),Ke(Et,S),Ke(Mt,S),Ke(At,S),V&&V.d(),D&&D.d(),t[39](null)}}}function Zf(t,e,n,r,i){return e/i*t+r/i*n}function Qf(t,e,n){let r,i,a,o;Fe(t,ho,V=>n(48,a=V)),Fe(t,rn,V=>n(21,o=V));let{width:s=800}=e,{height:c=400}=e,{dotRadius:l=4}=e,{data:p=[]}=e,{feature:d=""}=e,{axisLabel:f=""}=e,{bins:h=20}=e,{initialCutoffPercentile:_=.5}=e,{initialCutoffValue:v=null}=e,y,x=0,E="",$=null,b={x:0,y:0};const M={top:40,right:40,bottom:80,left:100},R=s-M.left-M.right,B=c-M.top-M.bottom,I=B*.5,z=B-I;let C,k,P=[],F=0,q=0,mt=[],gt=[],G,et,ot,tt,nt,ft,J,_t;function ht(V,D="San Francisco",S=20){if(!V||V.length===0)return[];const O=V.map(at=>at.value),L=Yn(O),dt=Gn(O),Y=V.length,St=Array.from(new Set(Un(S).map(at=>L+at*(dt-L)/(S-1))));function ut(at){if(at===0||at===1)return 0;const Vt=-at*Math.log2(at)-(1-at)*Math.log2(1-at);return isNaN(Vt)?0:Vt}return St.map(at=>{const Vt=V.filter(Xt=>Xt.value<at),Nt=V.filter(Xt=>Xt.value>=at),Tt=Vt.length,yt=Nt.length,Pt=Vt.filter(Xt=>Xt.city===D).length,Bt=Nt.filter(Xt=>Xt.city===D).length,ae=Tt>0?Pt/Tt:0,me=yt>0?Bt/yt:0,Jt=ut(ae),we=ut(me),qt=Zf(Jt,Tt,we,yt,Y);return{cut:at,proportionBelow:ut(ae),proportionAbove:ut(me),weightedEntropy:qt}})}function wt(){if(!p||p.length===0||!d)return[];const V=p.filter(dt=>dt[d]&&!isNaN(Number(dt[d]))),D=V.map(dt=>Number(dt[d]));F=Yn(D),q=Gn(D);const O=Si().domain([F,q]).thresholds(h)(D),L=[];return V.forEach((dt,Y)=>{const St=Number(dt[d]);let ut=O.findIndex(at=>!at||typeof at.x0!="number"||typeof at.x1!="number"?!1:St>=at.x0&&(St<at.x1||St===at.x1&&at===O[O.length-1]));ut===-1&&(St<=F?ut=0:St>=q?ut=O.length-1:ut=O.findIndex(at=>at&&at.x0!==void 0)||0),ut=Math.max(0,Math.min(O.length-1,ut));const H=O[ut];L.push({originalData:dt,value:St,city:dt.city,binIndex:ut,frequency:H&&H.length?H.length:1,id:dt.id||Y})}),L}function rt(){if(!p||p.length===0)return;const V=wt(),D=ht(V,"San Francisco",20);mt=D.map(Y=>({x:Y.cut,y:Y.proportionBelow})),gt=D.map(Y=>({x:Y.cut,y:Y.proportionAbove})),nt=D.map(Y=>({x:Y.cut,y:Y.weightedEntropy-.1})),n(16,ft=D.reduce((Y,St)=>St.weightedEntropy<Y.weightedEntropy?St:Y)),console.log(ft);const S={};V.forEach(Y=>{S[Y.binIndex]=(S[Y.binIndex]||0)+1});const O=Math.max(...Object.values(S));n(5,C=Ie().domain([F,q]).range([0,R])),n(35,k=Ie().domain([0,O+1]).range([z,0])),n(15,tt=Ie().domain([0,1]).range([I,0])),n(12,G=Re().x(Y=>C(Y.x)).y(Y=>tt(Y.y)).curve(wr)(mt)),n(13,et=Re().x(Y=>C(Y.x)).y(Y=>tt(Y.y)).curve(wr)(gt)),n(14,ot=Re().x(Y=>C(Y.x)).y(Y=>tt(Y.y)).curve(wr)(nt));const dt=Si().domain([F,q]).thresholds(h)(V.map(Y=>Y.value));if(n(11,P=V.map((Y,St)=>{const ut=dt[Y.binIndex];let H,at;ut&&typeof ut=="object"&&typeof ut.x0=="number"&&typeof ut.x1=="number"&&!isNaN(ut.x0)&&!isNaN(ut.x1)?(H=(ut.x0+ut.x1)/2,at=C(H)):(console.warn(`Bin inválido para índice ${Y.binIndex}:`,ut),H=Y.value,at=C(Y.value));const Nt=V.filter(yt=>yt.binIndex===Y.binIndex).findIndex(yt=>yt.id===Y.id),Tt=k(Nt+1);return{...Y,x:at,y:Tt,belowCutoff:H<x}})),v!==null)n(4,x=Math.max(F,Math.min(q,v)));else{const Y=V.map(St=>St.value).sort((St,ut)=>St-ut);n(4,x=Y[Math.floor(Y.length*_)])}st(),n(19,Et=vt()),n(20,Dt=zt())}let $t=!1;function xt(V){$t=!0,bt(V);function D(O){$t&&bt(O)}function S(){$t=!1,document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",S)}document.addEventListener("mousemove",D),document.addEventListener("mouseup",S)}function bt(V){if(!y||!C)return;const D=y.getBoundingClientRect(),S=V.clientX-D.left-M.left,O=Math.max(0,Math.min(R,S)),L=C.invert(O);n(4,x=Math.max(F,Math.min(q,L))),st()}function st(){const D={pt:"pt-BR",en:"en-US",es:"es-ES"}[a]||"en-US";n(8,E=x.toLocaleString(D,{minimumFractionDigits:0,maximumFractionDigits:2})),n(17,J=mt.reduce((S,O)=>Math.abs(O.x-x)<Math.abs(S.x-x)?O:S)),n(18,_t=gt.reduce((S,O)=>Math.abs(O.x-x)<Math.abs(S.x-x)?O:S))}function ct(V,D){n(9,$=V);const S=y.getBoundingClientRect();n(10,b={x:D.clientX-S.left,y:D.clientY-S.top})}function it(){n(9,$=null)}function kt(V){const S={pt:"pt-BR",en:"en-US",es:"es-ES"}[a]||"en-US";return V>=1e4?`${(V/1e3).toFixed(0)}K`:V.toLocaleString(S,{maximumFractionDigits:1})}function vt(){return C?C.ticks(8).map(V=>({value:V,x:C(V),label:kt(V)})):[]}function zt(){return k?k.ticks(6).map(V=>({value:V,y:k(V),label:V.toString()})):[]}let Et=[],Dt=[];de(()=>{p&&p.length>0&&rt()});const Mt=(V,D)=>ct(V,D),It=(V,D)=>ct(V,D);function At(V){ye[V?"unshift":"push"](()=>{y=V,n(7,y)})}return t.$$set=V=>{"width"in V&&n(0,s=V.width),"height"in V&&n(1,c=V.height),"dotRadius"in V&&n(2,l=V.dotRadius),"data"in V&&n(30,p=V.data),"feature"in V&&n(31,d=V.feature),"axisLabel"in V&&n(3,f=V.axisLabel),"bins"in V&&n(32,h=V.bins),"initialCutoffPercentile"in V&&n(33,_=V.initialCutoffPercentile),"initialCutoffValue"in V&&n(34,v=V.initialCutoffValue)},t.$$.update=()=>{t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&p&&p.length>0&&d&&rt(),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&d&&(n(4,x=0),p&&p.length>0&&rt()),t.$$.dirty[0]&48&&n(6,r=C?C(x):0),t.$$.dirty[0]&32&&C&&n(19,Et=vt()),t.$$.dirty[1]&16&&k&&n(20,Dt=zt()),t.$$.dirty[0]&64&&n(36,i=r<R/2),t.$$.dirty[0]&64|t.$$.dirty[1]&32,t.$$.dirty[1]&32},[s,c,l,f,x,C,r,y,E,$,b,P,G,et,ot,tt,ft,J,_t,Et,Dt,o,M,R,B,I,z,xt,ct,it,p,d,h,_,v,k,i,Mt,It,At]}class th extends re{constructor(e){super(),ie(this,e,Qf,Jf,Kt,{width:0,height:1,dotRadius:2,data:30,feature:31,axisLabel:3,bins:32,initialCutoffPercentile:33,initialCutoffValue:34},null,[-1,-1,-1])}}function xa(t,e,n){const r=t.slice();return r[9]=e[n],r[10]=e,r[11]=n,r}function eh(t){let e=t[5]("cutoffs.loading")+"",n;return{c(){n=Z(e)},l(r){n=Q(r,e)},m(r,i){X(r,n,i)},p(r,i){i&32&&e!==(e=r[5]("cutoffs.loading")+"")&&pt(n,e)},d(r){r&&g(n)}}}function nh(t){let e=t[6]()+"",n;return{c(){n=Z(e)},l(r){n=Q(r,e)},m(r,i){X(r,n,i)},p(r,i){i&21&&e!==(e=r[6]()+"")&&pt(n,e)},d(r){r&&g(n)}}}function wa(t){let e,n,r,i=t[5]("cutoffs.feature_label",{values:{number:t[11]+1}})+"",a,o,s,c=t[5](`cutoffs.steps.${t[9].feature}.title`)+"",l,p,d,f,h,_=t[5](`cutoffs.steps.${t[9].feature}.description`)+"",v,y,x,E,$,b=t[5]("cutoffs.characteristic")+"",M,R,B=t[5](`cutoffs.steps.${t[9].feature}.axis_label`)+"",I,z,C,k,P=t[5]("cutoffs.value_range")+"",F,q,mt,gt,G,et=t[5]("cutoffs.cutoff_point")+"",ot,tt,nt=t[9].cutoff.toLocaleString()+"",ft,J,_t,ht,wt=t[11];function rt(ct,it){return ct[2]&&ct[2].length>0?nh:eh}let $t=rt(t),xt=$t(t);const bt=()=>t[7](e,wt),st=()=>t[7](null,wt);return{c(){e=A("div"),n=A("div"),r=A("span"),a=Z(i),o=W(),s=A("h3"),l=Z(c),d=W(),f=A("div"),h=A("p"),v=Z(_),y=W(),x=A("div"),E=A("div"),$=A("strong"),M=Z(b),R=W(),I=Z(B),z=W(),C=A("div"),k=A("strong"),F=Z(P),q=W(),xt.c(),mt=W(),gt=A("div"),G=A("strong"),ot=Z(et),tt=W(),ft=Z(nt),J=W(),this.h()},l(ct){e=N(ct,"DIV",{class:!0,style:!0});var it=w(e);n=N(it,"DIV",{class:!0});var kt=w(n);r=N(kt,"SPAN",{class:!0,style:!0});var vt=w(r);a=Q(vt,i),vt.forEach(g),o=K(kt),s=N(kt,"H3",{class:!0,style:!0});var zt=w(s);l=Q(zt,c),zt.forEach(g),kt.forEach(g),d=K(it),f=N(it,"DIV",{class:!0});var Et=w(f);h=N(Et,"P",{class:!0});var Dt=w(h);v=Q(Dt,_),Dt.forEach(g),y=K(Et),x=N(Et,"DIV",{class:!0});var Mt=w(x);E=N(Mt,"DIV",{class:!0});var It=w(E);$=N(It,"STRONG",{class:!0});var At=w($);M=Q(At,b),At.forEach(g),R=K(It),I=Q(It,B),It.forEach(g),z=K(Mt),C=N(Mt,"DIV",{class:!0});var V=w(C);k=N(V,"STRONG",{class:!0});var D=w(k);F=Q(D,P),D.forEach(g),q=K(V),xt.l(V),V.forEach(g),mt=K(Mt),gt=N(Mt,"DIV",{class:!0});var S=w(gt);G=N(S,"STRONG",{class:!0});var O=w(G);ot=Q(O,et),O.forEach(g),tt=K(S),ft=Q(S,nt),S.forEach(g),Mt.forEach(g),Et.forEach(g),J=K(it),it.forEach(g),this.h()},h(){u(r,"class","text-sm font-semibold uppercase tracking-wide"),Ut(r,"color","var(--color-accent2)"),u(s,"class","md:text-3xl text-2xl font-bold mt-2 mb-0 text-gray-800 dark:text-white"),u(s,"style",p=t[11]===t[0]?"color: var(--color-accent2);":""),u(n,"class","mb-6"),u(h,"class","text-gray-600 text-lg leading-relaxed mb-8 dark:text-gray-300"),u($,"class","text-gray-800 dark:text-white"),u(E,"class","mb-3 text-gray-600 dark:text-gray-300"),u(k,"class","text-gray-800 dark:text-white"),u(C,"class","mb-3 text-gray-600 dark:text-gray-300"),u(G,"class","text-gray-800 dark:text-white"),u(gt,"class","text-gray-600 dark:text-gray-300"),u(x,"class","p-6 rounded-lg mb-8"),u(f,"class","flex-1"),u(e,"class",_t="md:my-[30rem] my-[10rem] md:p-10 p-8 border-l-4 rounded-r-xl transition-all duration-300 md:min-h-[50vh] min-h-[30vh] flex flex-col justify-center backdrop-blur-sm border-gray-200 dark:border-gray-700 "+(t[11]===t[0]?"transform translate-x-1":"")),u(e,"style",ht=t[11]===t[0]?"border-left-color: var(--color-accent2);":"")},m(ct,it){X(ct,e,it),m(e,n),m(n,r),m(r,a),m(n,o),m(n,s),m(s,l),m(e,d),m(e,f),m(f,h),m(h,v),m(f,y),m(f,x),m(x,E),m(E,$),m($,M),m(E,R),m(E,I),m(x,z),m(x,C),m(C,k),m(k,F),m(C,q),xt.m(C,null),m(x,mt),m(x,gt),m(gt,G),m(G,ot),m(gt,tt),m(gt,ft),m(e,J),bt()},p(ct,it){t=ct,it&32&&i!==(i=t[5]("cutoffs.feature_label",{values:{number:t[11]+1}})+"")&&pt(a,i),it&48&&c!==(c=t[5](`cutoffs.steps.${t[9].feature}.title`)+"")&&pt(l,c),it&1&&p!==(p=t[11]===t[0]?"color: var(--color-accent2);":"")&&u(s,"style",p),it&48&&_!==(_=t[5](`cutoffs.steps.${t[9].feature}.description`)+"")&&pt(v,_),it&32&&b!==(b=t[5]("cutoffs.characteristic")+"")&&pt(M,b),it&48&&B!==(B=t[5](`cutoffs.steps.${t[9].feature}.axis_label`)+"")&&pt(I,B),it&32&&P!==(P=t[5]("cutoffs.value_range")+"")&&pt(F,P),$t===($t=rt(t))&&xt?xt.p(t,it):(xt.d(1),xt=$t(t),xt&&(xt.c(),xt.m(C,null))),it&32&&et!==(et=t[5]("cutoffs.cutoff_point")+"")&&pt(ot,et),it&16&&nt!==(nt=t[9].cutoff.toLocaleString()+"")&&pt(ft,nt),it&1&&_t!==(_t="md:my-[30rem] my-[10rem] md:p-10 p-8 border-l-4 rounded-r-xl transition-all duration-300 md:min-h-[50vh] min-h-[30vh] flex flex-col justify-center backdrop-blur-sm border-gray-200 dark:border-gray-700 "+(t[11]===t[0]?"transform translate-x-1":""))&&u(e,"class",_t),it&1&&ht!==(ht=t[11]===t[0]?"border-left-color: var(--color-accent2);":"")&&u(e,"style",ht),wt!==t[11]&&(st(),wt=t[11],bt())},d(ct){ct&&g(e),xt.d(),st()}}}function rh(t){let e,n,r=t[5]("cutoffs.error_loading")+"",i;return{c(){e=A("div"),n=A("p"),i=Z(r),this.h()},l(a){e=N(a,"DIV",{class:!0});var o=w(e);n=N(o,"P",{});var s=w(n);i=Q(s,r),s.forEach(g),o.forEach(g),this.h()},h(){u(e,"class","text-center text-red-600 text-xl dark:text-red-400")},m(a,o){X(a,e,o),m(e,n),m(n,i)},p(a,o){o&32&&r!==(r=a[5]("cutoffs.error_loading")+"")&&pt(i,r)},i:Ct,o:Ct,d(a){a&&g(e)}}}function ih(t){let e,n,r=t[5](`cutoffs.steps.${t[4][t[0]].feature}.axis_label`)+"",i,a,o=t[4][t[0]].feature,s,c,l,p=t[5]("cutoffs.city_comparison")+"",d,f,h=ba(t);return{c(){e=A("div"),n=A("h4"),i=Z(r),a=W(),h.c(),s=W(),c=A("div"),l=A("p"),d=Z(p),this.h()},l(_){e=N(_,"DIV",{class:!0});var v=w(e);n=N(v,"H4",{class:!0});var y=w(n);i=Q(y,r),y.forEach(g),v.forEach(g),a=K(_),h.l(_),s=K(_),c=N(_,"DIV",{class:!0});var x=w(c);l=N(x,"P",{class:!0});var E=w(l);d=Q(E,p),E.forEach(g),x.forEach(g),this.h()},h(){u(n,"class","text-gray-800 text-xl text-center m-0 dark:text-white"),u(e,"class","mb-4"),u(l,"class","text-gray-600 text-sm italic dark:text-gray-400"),u(c,"class","mt-4 text-center")},m(_,v){X(_,e,v),m(e,n),m(n,i),X(_,a,v),h.m(_,v),X(_,s,v),X(_,c,v),m(c,l),m(l,d),f=!0},p(_,v){(!f||v&49)&&r!==(r=_[5](`cutoffs.steps.${_[4][_[0]].feature}.axis_label`)+"")&&pt(i,r),v&17&&Kt(o,o=_[4][_[0]].feature)?(mn(),Rt(h,1,1,Ct),gn(),h=ba(_),h.c(),Lt(h,1),h.m(s.parentNode,s)):h.p(_,v),(!f||v&32)&&p!==(p=_[5]("cutoffs.city_comparison")+"")&&pt(d,p)},i(_){f||(Lt(h),f=!0)},o(_){Rt(h),f=!1},d(_){_&&(g(e),g(a),g(s),g(c)),h.d(_)}}}function ah(t){let e,n,r,i,a=t[5]("cutoffs.loading_data")+"",o;return{c(){e=A("div"),n=A("div"),r=W(),i=A("p"),o=Z(a),this.h()},l(s){e=N(s,"DIV",{class:!0});var c=w(e);n=N(c,"DIV",{class:!0,style:!0}),w(n).forEach(g),r=K(c),i=N(c,"P",{class:!0});var l=w(i);o=Q(l,a),l.forEach(g),c.forEach(g),this.h()},h(){u(n,"class","w-12 h-12 border-4 border-gray-200 rounded-full animate-spin mx-auto dark:border-gray-700"),Ut(n,"border-top-color","var(--color-accent2)"),u(i,"class","mt-4 text-xl"),u(e,"class","text-center text-gray-600 dark:text-gray-300")},m(s,c){X(s,e,c),m(e,n),m(e,r),m(e,i),m(i,o)},p(s,c){c&32&&a!==(a=s[5]("cutoffs.loading_data")+"")&&pt(o,a)},i:Ct,o:Ct,d(s){s&&g(e)}}}function ba(t){let e,n;return e=new th({props:{width:800,height:500,dotRadius:3,data:t[2],feature:t[4][t[0]].feature,axisLabel:t[5](`cutoffs.steps.${t[4][t[0]].feature}.axis_label`),bins:55,initialCutoffValue:t[4][t[0]].cutoff}}),{c(){le(e.$$.fragment)},l(r){ce(e.$$.fragment,r)},m(r,i){ue(e,r,i),n=!0},p(r,i){const a={};i&4&&(a.data=r[2]),i&17&&(a.feature=r[4][r[0]].feature),i&49&&(a.axisLabel=r[5](`cutoffs.steps.${r[4][r[0]].feature}.axis_label`)),i&17&&(a.initialCutoffValue=r[4][r[0]].cutoff),e.$set(a)},i(r){n||(Lt(e.$$.fragment,r),n=!0)},o(r){Rt(e.$$.fragment,r),n=!1},d(r){fe(e,r)}}}function oh(t){let e,n,r,i,a,o,s,c=ne(t[4]),l=[];for(let h=0;h<c.length;h+=1)l[h]=wa(xa(t,c,h));const p=[ah,ih,rh],d=[];function f(h,_){return h[3]?0:h[2]!=null?1:2}return a=f(t),o=d[a]=p[a](t),{c(){e=A("div"),n=A("div");for(let h=0;h<l.length;h+=1)l[h].c();r=W(),i=A("div"),o.c(),this.h()},l(h){e=N(h,"DIV",{class:!0});var _=w(e);n=N(_,"DIV",{class:!0});var v=w(n);for(let x=0;x<l.length;x+=1)l[x].l(v);v.forEach(g),r=K(_),i=N(_,"DIV",{class:!0});var y=w(i);o.l(y),y.forEach(g),_.forEach(g),this.h()},h(){u(n,"class","md:w-1/3.5 w-full md:px-8 px-4 md:pl-0 pl-0"),u(i,"class","md:w-3/5 w-full md:sticky md:top-20 relative top-auto md:h-[calc(100vh-80px)] h-[500px] flex flex-col justify-center items-center rounded-xl p-4"),u(e,"class","flex relative my-10 min-h-screen flex-col gap-4 md:flex-row md:gap-8")},m(h,_){X(h,e,_),m(e,n);for(let v=0;v<l.length;v+=1)l[v]&&l[v].m(n,null);m(e,r),m(e,i),d[a].m(i,null),s=!0},p(h,[_]){if(_&55){c=ne(h[4]);let y;for(y=0;y<c.length;y+=1){const x=xa(h,c,y);l[y]?l[y].p(x,_):(l[y]=wa(x),l[y].c(),l[y].m(n,null))}for(;y<l.length;y+=1)l[y].d(1);l.length=c.length}let v=a;a=f(h),a===v?d[a].p(h,_):(mn(),Rt(d[v],1,1,()=>{d[v]=null}),gn(),o=d[a],o?o.p(h,_):(o=d[a]=p[a](h),o.c()),Lt(o,1),o.m(i,null))},i(h){s||(Lt(o),s=!0)},o(h){Rt(o),s=!1},d(h){h&&g(e),Ke(l,h),d[a].d()}}}function sh(t,e,n){let r,i;Fe(t,rn,f=>n(5,i=f));let a=0,o=[],s=[],c=!0;async function l(){try{const f=await wu(`${po}/data/housing_limpo.csv`);n(2,s=f),n(3,c=!1)}catch(f){console.error("Erro ao carregar dados:",f),n(3,c=!1)}}de(()=>{l();const f=new IntersectionObserver(h=>{h.forEach(_=>{if(_.isIntersecting){const v=o.findIndex(y=>y===_.target);v!==-1&&v!==a&&n(0,a=v)}})},{threshold:.1,rootMargin:"0px 0px -50% 0px"});return o.forEach(h=>{h&&f.observe(h)}),()=>f.disconnect()});const p=()=>{const f=s.map(v=>Number(v[r[a].feature])).filter(v=>!isNaN(v)),h=Math.min(...f),_=Math.max(...f);return`${h.toLocaleString()} - ${_.toLocaleString()}`};function d(f,h){ye[f?"unshift":"push"](()=>{o[h]=f,n(1,o)})}return n(4,r=[{feature:"total_rooms",cutoff:3e3},{feature:"total_bedrooms",cutoff:800},{feature:"households",cutoff:500},{feature:"median_house_value",cutoff:25e4}]),[a,o,s,c,r,i,p,d]}class lh extends re{constructor(e){super(),ie(this,e,sh,oh,Kt,{})}}function ch(t){let e,n,r,i,a,o="+ San Francisco",s,c,l="- San Francisco",p,d,f,h="+ Sacramento",_,v,y="- Sacramento",x,E,$,b,M,R=t[1]("section-gini.title")+"",B,I,z,C,k=t[1]("section-gini.description",{values:{purity:`<strong>${t[1]("section-gini.purity")}</strong>`}})+"",P,F,q,mt,gt=t[1]("section-gini.purity_explanation",{values:{entropy:`<strong>${t[1]("section-gini.entropy")}</strong>`,gini_index:`<strong>${t[1]("section-gini.gini_index")}</strong>`}})+"",G,et,ot,tt,nt='<img src="https://quicklatex.com/cache3/09/ql_b5c2bb07b8b36054bbfb8e1292eee109_l3.png" alt="Fórmulas (claro)" class="block dark:hidden max-w-full h-auto"/> <img src="https://quicklatex.com/cache3/b0/ql_000f9ccebd75a364a83019b889ef72b0_l3.png" alt="Fórmulas (escuro)" class="hidden dark:block max-w-full h-auto"/>',ft,J,_t,ht=t[1]("section-gini.metrics_behavior",{values:{information_gain:`<strong>${t[1]("section-gini.information_gain")}</strong>`,gini_gain:`<strong>${t[1]("section-gini.gini_gain")}</strong>`}})+"",wt,rt,$t,xt,bt=t[1]("section-gini.interaction_hint")+"",st,ct,it;return{c(){e=A("div"),n=A("div"),r=A("div"),i=A("div"),a=A("button"),a.textContent=o,s=W(),c=A("button"),c.textContent=l,p=W(),d=A("div"),f=A("button"),f.textContent=h,_=W(),v=A("button"),v.textContent=y,x=W(),E=A("div"),$=W(),b=A("div"),M=A("h3"),B=Z(R),I=W(),z=A("p"),C=new te(!1),P=W(),F=A("br"),q=W(),mt=new te(!1),G=W(),et=A("br"),ot=W(),tt=A("div"),tt.innerHTML=nt,ft=W(),J=A("p"),_t=new te(!1),wt=W(),rt=A("br"),$t=W(),xt=A("strong"),st=Z(bt),this.h()},l(kt){e=N(kt,"DIV",{class:!0});var vt=w(e);n=N(vt,"DIV",{class:!0});var zt=w(n);r=N(zt,"DIV",{class:!0});var Et=w(r);i=N(Et,"DIV",{class:!0});var Dt=w(i);a=N(Dt,"BUTTON",{class:!0,"data-svelte-h":!0}),Ee(a)!=="svelte-ij2zh8"&&(a.textContent=o),s=K(Dt),c=N(Dt,"BUTTON",{class:!0,"data-svelte-h":!0}),Ee(c)!=="svelte-1pxansr"&&(c.textContent=l),Dt.forEach(g),p=K(Et),d=N(Et,"DIV",{class:!0});var Mt=w(d);f=N(Mt,"BUTTON",{class:!0,"data-svelte-h":!0}),Ee(f)!=="svelte-y8uge2"&&(f.textContent=h),_=K(Mt),v=N(Mt,"BUTTON",{class:!0,"data-svelte-h":!0}),Ee(v)!=="svelte-b0x9bb"&&(v.textContent=y),Mt.forEach(g),Et.forEach(g),x=K(zt),E=N(zt,"DIV",{class:!0}),w(E).forEach(g),zt.forEach(g),$=K(vt),b=N(vt,"DIV",{class:!0});var It=w(b);M=N(It,"H3",{class:!0});var At=w(M);B=Q(At,R),At.forEach(g),I=K(It),z=N(It,"P",{});var V=w(z);C=ee(V,!1),P=K(V),F=N(V,"BR",{}),q=K(V),mt=ee(V,!1),G=K(V),et=N(V,"BR",{}),V.forEach(g),ot=K(It),tt=N(It,"DIV",{style:!0,class:!0,"data-svelte-h":!0}),Ee(tt)!=="svelte-k79zoe"&&(tt.innerHTML=nt),ft=K(It),J=N(It,"P",{});var D=w(J);_t=ee(D,!1),wt=K(D),rt=N(D,"BR",{}),$t=K(D),xt=N(D,"STRONG",{});var S=w(xt);st=Q(S,bt),S.forEach(g),D.forEach(g),It.forEach(g),vt.forEach(g),this.h()},h(){u(a,"class","sf svelte-k5sxgi"),u(c,"class","sf svelte-k5sxgi"),u(i,"class","positive-buttons svelte-k5sxgi"),u(f,"class","sac svelte-k5sxgi"),u(v,"class","sac svelte-k5sxgi"),u(d,"class","negative-buttons svelte-k5sxgi"),u(r,"class","button-container svelte-k5sxgi"),u(E,"class","svg-container svelte-k5sxgi"),u(n,"class","grafico svelte-k5sxgi"),u(M,"class","svelte-k5sxgi"),C.a=P,mt.a=G,Ut(tt,"text-align","center"),Ut(tt,"margin","1em 0"),u(tt,"class","svelte-k5sxgi"),_t.a=wt,u(b,"class","descricao svelte-k5sxgi"),u(e,"class","container svelte-k5sxgi")},m(kt,vt){X(kt,e,vt),m(e,n),m(n,r),m(r,i),m(i,a),m(i,s),m(i,c),m(r,p),m(r,d),m(d,f),m(d,_),m(d,v),m(n,x),m(n,E),t[8](E),m(e,$),m(e,b),m(b,M),m(M,B),m(b,I),m(b,z),C.m(k,z),m(z,P),m(z,F),m(z,q),mt.m(gt,z),m(z,G),m(z,et),m(b,ot),m(b,tt),m(b,ft),m(b,J),_t.m(ht,J),m(J,wt),m(J,rt),m(J,$t),m(J,xt),m(xt,st),ct||(it=[he(a,"click",t[4]),he(c,"click",t[5]),he(f,"click",t[6]),he(v,"click",t[7])],ct=!0)},p(kt,[vt]){vt&2&&R!==(R=kt[1]("section-gini.title")+"")&&pt(B,R),vt&2&&k!==(k=kt[1]("section-gini.description",{values:{purity:`<strong>${kt[1]("section-gini.purity")}</strong>`}})+"")&&C.p(k),vt&2&&gt!==(gt=kt[1]("section-gini.purity_explanation",{values:{entropy:`<strong>${kt[1]("section-gini.entropy")}</strong>`,gini_index:`<strong>${kt[1]("section-gini.gini_index")}</strong>`}})+"")&&mt.p(gt),vt&2&&ht!==(ht=kt[1]("section-gini.metrics_behavior",{values:{information_gain:`<strong>${kt[1]("section-gini.information_gain")}</strong>`,gini_gain:`<strong>${kt[1]("section-gini.gini_gain")}</strong>`}})+"")&&_t.p(ht),vt&2&&bt!==(bt=kt[1]("section-gini.interaction_hint")+"")&&pt(st,bt)},i:Ct,o:Ct,d(kt){kt&&g(e),t[8](null),ct=!1,Pr(it)}}}let uh=30;const je=700,Ne=600;function fh(t,e,n){let r;Fe(t,rn,G=>n(1,r=G));let i,a=[],o;const s={top:30,right:150,bottom:70,left:50},c=["Entropia","Gini"];let l,p,d,f,h,_,v,y,x,E,$,b,M=[];const R=G=>G===0||G===1?0:-G*Math.log2(G)-(1-G)*Math.log2(1-G),B=G=>2*G*(1-G),I=G=>{a.length>=uh||(a=[...a,{label:G,id:crypto.randomUUID()}],C())},z=G=>{const et=a.findIndex(ot=>ot.label===G);et!==-1&&(a=[...a.slice(0,et),...a.slice(et+1)],C())};function C(){const G=a.length;if(G===0){E.text("Entropia: -"),$.text("Gini: -"),b.selectAll("*").remove(),k(1);return}const ot=a.filter(rt=>rt.label===1).length/G;G>0?o.attr("x1",d(ot)).attr("x2",d(ot)).attr("stroke-dasharray","4 2").attr("opacity",1):o.attr("opacity",0),E.text(`Entropia: ${R(ot).toFixed(3)}`),$.text(`Gini: ${B(ot).toFixed(3)}`),k(ot);const tt=10,nt=22,ft=22,J=je-100,_t=Ne-s.bottom-10;b.selectAll("*").remove(),b.append("text").attr("x",J+.5*ft).attr("y",_t+20).text("SAC").attr("text-anchor","middle").attr("fill","var(--color-classe1)").attr("font-size",12),b.append("text").attr("x",J+3.5*ft).attr("y",_t+20).text("SF").attr("text-anchor","middle").attr("fill","var(--color-classe0)").attr("font-size",12);let ht=0,wt=0;a.forEach((rt,$t)=>{const xt=rt.label===1,bt=xt?ht++:wt++,st=bt%2,ct=Math.floor(bt/2),it=J+(xt?3+st:st)*ft,kt=_t-ct*nt;b.append("circle").attr("cx",it).attr("cy",kt).attr("r",tt).attr("fill",xt?"var(--color-classe0)":"var(--color-classe1)").attr("opacity",1)})}function k(G){const ot=Math.round(G*50);M.forEach((tt,nt)=>{tt.attr("fill",nt<ot?"var(--color-classe0)":"var(--color-classe1)").attr("opacity",.7)})}de(()=>{const G=document.createElement("script");G.id="MathJax-script",G.async=!0,G.src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js",document.head.appendChild(G);const et=je-s.left-s.right,ot=Ne-s.top-s.bottom;p=Ht(i).html("").append("svg").attr("width",je).attr("height",Ne).style("background","transparent"),d=Ie().domain([0,1]).range([0,et]),f=Ie().domain([0,1]).range([ot,0]);const tt={Entropia:"var(--color-entropy)",Gini:"var(--color-gini)"};l=En().domain(c).range(c.map(ht=>tt[ht]||"#999"));const nt=p.append("g").attr("transform",`translate(${s.left},${s.top})`);nt.append("g").attr("transform",`translate(0,${ot})`).call(Bo(d).ticks(10).tickFormat(Ur(".0%"))),nt.append("g").call(Oo(f).ticks(5)),p.append("text").attr("x",je/2).attr("y",Ne-10).attr("text-anchor","middle").attr("font-size",13).attr("fill","var(--color-text)").text("Proporção da classe positiva (p)"),p.append("text").attr("transform","rotate(-90)").attr("x",-Ne/2).attr("y",10).attr("text-anchor","middle").attr("font-size",13).attr("fill","var(--color-text)").text("Pureza (Entropia ou Gini)");const ft=Un(0,1.001,.01);nt.append("path").datum(ft).attr("fill","none").attr("stroke",l("Entropia")).attr("stroke-width",7).attr("d",Re().x(ht=>d(ht)).y(ht=>f(R(ht)))),nt.append("path").datum(ft).attr("fill","none").attr("stroke",l("Gini")).attr("stroke-width",7).attr("d",Re().x(ht=>d(ht)).y(ht=>f(B(ht)))),o=nt.append("line").attr("y1",0).attr("y2",Ne-s.top-s.bottom).attr("stroke","var(--color-text)").attr("stroke-width",3).attr("opacity",0);const J=p.append("g").attr("transform",`translate(${je-130},${s.top})`);J.append("rect").attr("y",-2).attr("width",15).attr("width",15).attr("height",15).attr("fill",l("Entropia")),J.append("text").attr("x",18).attr("y",10).text("Entropia").attr("fill","var(--color-text)").attr("font-size",16),J.append("rect").attr("y",18).attr("width",15).attr("height",15).attr("fill",l("Gini")),J.append("text").attr("x",18).attr("y",30).text("Gini").attr("fill","var(--color-text)").attr("font-size",16),h=p.append("g").style("display","none"),_=h.append("line").attr("y1",s.top).attr("y2",Ne-s.bottom).attr("stroke","#252525").attr("stroke-dasharray","7 5"),v=h.append("rect").attr("width",140).attr("height",40).attr("fill","#fefefe").attr("stroke","#ccc").attr("rx",5),y=h.append("text").attr("font-size",12).attr("fill","#333"),x=h.append("text").attr("font-size",12).attr("fill","#333"),p.append("rect").attr("x",s.left).attr("y",s.top).attr("width",et).attr("height",ot).attr("fill","transparent").on("mousemove",ht=>{const[wt]=We(ht),rt=Math.min(1,Math.max(0,d.invert(wt-s.left))),$t=R(rt).toFixed(3),xt=B(rt).toFixed(3);h.style("display",null),_.attr("x1",s.left+d(rt)).attr("x2",s.left+d(rt)),v.attr("x",s.left+d(rt)+10).attr("y",s.top+10),y.attr("x",s.left+d(rt)+18).attr("y",s.top+28).text(`Entropia: ${$t}`),x.attr("x",s.left+d(rt)+18).attr("y",s.top+44).text(`Gini: ${xt}`),k(rt)}).on("mouseleave",()=>{h.style("display","none"),k(1)});const _t=p.append("g").attr("transform",`translate(${je-s.right+10}, ${Ne/2-180})`);_t.append("text").attr("y",0).attr("font-weight","bold").text("Amostra atual").attr("fill","var(--color-text)"),E=_t.append("text").attr("y",20).text("Entropia: -").attr("fill","var(--color-text)"),$=_t.append("text").attr("y",40).text("Gini: -").attr("fill","var(--color-text)"),b=p.append("g"),C()});const P=()=>I(1),F=()=>z(1),q=()=>I(0),mt=()=>z(0);function gt(G){ye[G?"unshift":"push"](()=>{i=G,n(0,i)})}return[i,r,I,z,P,F,q,mt,gt]}class hh extends re{constructor(e){super(),ie(this,e,fh,ch,Kt,{})}}function dh(t){let e;return{c(){e=U("svg"),this.h()},l(n){e=j(n,"svg",{class:!0}),w(e).forEach(g),this.h()},h(){u(e,"class","svelte-x9sf7o")},m(n,r){X(n,e,r),t[2](e)},p:Ct,i:Ct,o:Ct,d(n){n&&g(e),t[2](null)}}}const Er=700;function ph(t,e,n){let{treeData:r}=e,i;const a=En().domain([`San 
Francisco`,"Sacramento"]).range(["var(--color-classe0-node)","var(--color-classe1-node)"]);function o(){if(!r||!i)return;const c={top:45,right:40,bottom:55,left:40},l=i.parentElement.clientWidth||800,p=Math.max(l,300),d=p-c.left-c.right,f=Er-c.top-c.bottom,h=Te(r);kn().size([d,f]).separation((I,z)=>I.parent===z.parent?2:3)(h);const v=h.descendants(),y=h.links();Ht(i).selectAll("*").remove();const x=Ht(i).attr("width",p).attr("height",Er).attr("viewBox",`0 0 ${p} ${Er}`).attr("preserveAspectRatio","xMidYMid meet").style("background-color","var(--color-background)").style("font-family","'Segoe UI', Tahoma, Geneva, Verdana, sans-serif").append("g").attr("transform",`translate(${c.left},${c.top})`),E=x.append("defs");E.append("filter").attr("id","dropShadow").attr("height","130%").append("feDropShadow").attr("dx",2).attr("dy",2).attr("stdDeviation",2).attr("flood-color","var(--color-shadow-link)").attr("flood-opacity",.4);const b="nodeGradient",M=E.append("radialGradient").attr("id",b).attr("cx","50%").attr("cy","50%").attr("r","50%");M.append("stop").attr("offset","0%").attr("stop-color","var(--color-node-fill)"),M.append("stop").attr("offset","100%").attr("stop-color","var(--color-node-stroke)"),a.domain().forEach((I,z)=>{const C=a(I),k=`var(--color-classe${z}-stroke)`,P=E.append("radialGradient").attr("id",`leafGradient-${I.replace(/\s+/g,"")}`).attr("cx","50%").attr("cy","50%").attr("r","50%");P.append("stop").attr("offset","0%").attr("stop-color",C),P.append("stop").attr("offset","100%").attr("stop-color",k)}),x.selectAll(".link").data(y).join("path").attr("class","link").attr("fill","none").attr("stroke","var(--color-link-stroke)").attr("stroke-width",3).attr("filter","url(#dropShadow)").attr("d",sr().x(I=>I.x).y(I=>I.y));const R=x.selectAll(".node").data(v).join("g").attr("class","node").attr("transform",I=>`translate(${I.x},${I.y})`).style("cursor","default");R.append("circle").attr("r",8).attr("fill",I=>I.children?`url(#${b})`:`url(#leafGradient-${I.data.name.split(":").pop().trim().replace(/\s+/g,"")})`).attr("stroke",I=>{if(!I.children){const z=I.data.name.split(":").pop().trim();return`var(--color-classe${a.domain().indexOf(z)}-stroke)`}return"var(--color-node-stroke)"}).attr("stroke-width",2),R.append("text").attr("dy","0.35em").attr("y",(I,z)=>I.children?-28:(z%2===0,18)).attr("x",(I,z)=>I.children?-30:z%2===0?-25:-55).style("font-size","14px").style("fill",I=>{if(!I.children){const z=I.data.name.split(":").pop().trim();return`var(--color-classe${a.domain().indexOf(z)}-text)`}return"var(--color-text-node)"}).style("text-shadow","0 0 2px var(--color-prediction-glow)").selectAll("tspan").data(I=>I.data.name.split(`
`)).join("tspan").attr("x",function(I,z,C){return Ht(C[z].parentNode).attr("x")}).attr("dy",(I,z)=>z===0?"0":"1em").text(I=>I)}de(()=>{o(),window.addEventListener("resize",o)}),fo(()=>{window.removeEventListener("resize",o)});function s(c){ye[c?"unshift":"push"](()=>{i=c,n(0,i)})}return t.$$set=c=>{"treeData"in c&&n(1,r=c.treeData)},[i,r,s]}class mh extends re{constructor(e){super(),ie(this,e,ph,dh,Kt,{treeData:1})}}function ka(t){let e,n,r,i;return{c(){e=A("div"),n=Z("A previsão final foi: "),r=A("strong"),i=Z(t[3]),this.h()},l(a){e=N(a,"DIV",{class:!0});var o=w(e);n=Q(o,"A previsão final foi: "),r=N(o,"STRONG",{});var s=w(r);i=Q(s,t[3]),s.forEach(g),o.forEach(g),this.h()},h(){u(e,"class","prediction-result svelte-18fcv9h")},m(a,o){X(a,e,o),m(e,n),m(e,r),m(r,i)},p(a,o){o&8&&pt(i,a[3])},d(a){a&&g(e)}}}function gh(t){let e,n,r,i,a,o,s,c,l="total_bedrooms:",p,d,f,h,_,v="median_house_value:",y,x,E,$,b,M="Prever ponto",R,B,I,z=t[3]&&ka(t);return{c(){e=A("div"),n=A("div"),r=U("svg"),i=W(),a=A("div"),o=A("div"),s=A("div"),c=A("label"),c.textContent=l,p=W(),d=A("input"),f=W(),h=A("div"),_=A("label"),_.textContent=v,y=W(),x=A("input"),E=W(),$=A("div"),b=A("button"),b.textContent=M,R=W(),z&&z.c(),this.h()},l(C){e=N(C,"DIV",{class:!0});var k=w(e);n=N(k,"DIV",{class:!0});var P=w(n);r=j(P,"svg",{}),w(r).forEach(g),P.forEach(g),i=K(k),a=N(k,"DIV",{class:!0});var F=w(a);o=N(F,"DIV",{class:!0});var q=w(o);s=N(q,"DIV",{class:!0});var mt=w(s);c=N(mt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ee(c)!=="svelte-1t7j51s"&&(c.textContent=l),p=K(mt),d=N(mt,"INPUT",{id:!0,type:!0,class:!0}),mt.forEach(g),f=K(q),h=N(q,"DIV",{class:!0});var gt=w(h);_=N(gt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ee(_)!=="svelte-167r6za"&&(_.textContent=v),y=K(gt),x=N(gt,"INPUT",{id:!0,type:!0,class:!0}),gt.forEach(g),E=K(q),$=N(q,"DIV",{class:!0});var G=w($);b=N(G,"BUTTON",{class:!0,"data-svelte-h":!0}),Ee(b)!=="svelte-1vgzeu4"&&(b.textContent=M),G.forEach(g),q.forEach(g),R=K(F),z&&z.l(F),F.forEach(g),k.forEach(g),this.h()},h(){u(n,"class","tree-container svelte-18fcv9h"),u(c,"for","feature0"),u(c,"class","svelte-18fcv9h"),u(d,"id","feature0"),u(d,"type","number"),u(d,"class","svelte-18fcv9h"),u(s,"class","input-group svelte-18fcv9h"),u(_,"for","feature1"),u(_,"class","svelte-18fcv9h"),u(x,"id","feature1"),u(x,"type","number"),u(x,"class","svelte-18fcv9h"),u(h,"class","input-group svelte-18fcv9h"),u(b,"class","predict-button svelte-18fcv9h"),u($,"class","button-group"),u(o,"class","control-panel svelte-18fcv9h"),u(a,"class","side-panel svelte-18fcv9h"),u(e,"class","tree-layout-container svelte-18fcv9h")},m(C,k){X(C,e,k),m(e,n),m(n,r),t[6](r),m(e,i),m(e,a),m(a,o),m(o,s),m(s,c),m(s,p),m(s,d),zn(d,t[1]),m(o,f),m(o,h),m(h,_),m(h,y),m(h,x),zn(x,t[2]),m(o,E),m(o,$),m($,b),m(a,R),z&&z.m(a,null),B||(I=[he(d,"input",t[7]),he(x,"input",t[8]),he(b,"click",t[4])],B=!0)},p(C,[k]){k&2&&qn(d.value)!==C[1]&&zn(d,C[1]),k&4&&qn(x.value)!==C[2]&&zn(x,C[2]),C[3]?z?z.p(C,k):(z=ka(C),z.c(),z.m(a,null)):z&&(z.d(1),z=null)},i:Ct,o:Ct,d(C){C&&g(e),t[6](null),z&&z.d(),B=!1,Pr(I)}}}const $r=650,_h=70;function Ea(t){t.each(e=>{const n=e.data.name.match(/^([^\n]+)\s+≤\s+([\d.]+)/);n?(e.data.feature=n[1].trim(),e.data.threshold=Number(n[2]),e.data.isLeaf=!1):e.data.isLeaf=!0})}function vh(t,e,n){let{treeData:r}=e,i,a=[],o=0,s=0,c=null;function l(v,y){if(v.data.isLeaf||!v.children)return a.push(v),v;a.push(v);const x=v.data.feature,E=y[x],[$,b]=v.children;return E<=v.data.threshold?l($,y):l(b,y)}function p(v){Ht(i).selectAll("circle").transition().duration(300).attr("fill","url(#nodeGradient)").attr("r",12),Ht(i).selectAll(".link").transition().duration(300).attr("stroke","var(--color-link-stroke)").attr("stroke-width",3),v.forEach((x,E)=>{setTimeout(()=>{if(Ht(`#node-${x.id} circle`).transition().duration(300).attr("fill","var(--color-node-active)").attr("r",20),E<v.length-1){const $=v[E],b=v[E+1];Ht(i).selectAll(".link").filter(M=>M.source.id===$.id&&M.target.id===b.id).transition().duration(300).attr("stroke","var(--color-link-active)").attr("stroke-width",5)}},E*800)})}function d(){var E;if(!r)return;n(3,c=null),a=[];const v={total_bedrooms:Number(o),median_house_value:Number(s)},y=Te(r);y.each(($,b)=>$.id=b),Ea(y);const x=l(y,v);p(a),(E=x==null?void 0:x.data)!=null&&E.name&&n(3,c=x.data.name)}de(()=>{if(!r)return;const v={top:50,right:120,bottom:40,left:0},y=Te(r);y.each((F,q)=>F.id=q),Ea(y);const x=y.leaves(),E=Math.max(x.length*_h+v.left+v.right,500),$=E-v.left-v.right,b=$r-v.top-v.bottom;kn().size([$,b]).separation((F,q)=>F.parent===q.parent?2:3)(y);const R=y.descendants(),B=y.links();Ht(i).selectAll("*").remove();const I=Ht(i).attr("width",E).attr("height",$r).attr("viewBox",`0 0 ${E} ${$r}`).attr("preserveAspectRatio","xMidYMid meet").style("background-color","var(--color-background-section)").style("font-family","'Segoe UI', Tahoma, Geneva, Verdana, sans-serif").append("g").attr("transform",`translate(${v.left-30},${v.top})`),z=I.append("defs");z.append("filter").attr("id","dropShadow").attr("height","130%").append("feDropShadow").attr("dx",2).attr("dy",2).attr("stdDeviation",2).attr("flood-color","var(--color-shadow-link)").attr("flood-opacity",.4);const C=z.append("radialGradient").attr("id","nodeGradient").attr("cx","50%").attr("cy","50%").attr("r","50%");C.append("stop").attr("offset","0%").attr("stop-color","var(--color-node-fill)"),C.append("stop").attr("offset","100%").attr("stop-color","var(--color-node-stroke)"),I.selectAll(".link").data(B).join("path").attr("class","link").attr("fill","none").attr("stroke","var(--color-link-stroke)").attr("stroke-width",3).attr("filter","url(#dropShadow)").attr("d",sr().x(F=>F.x).y(F=>F.y));const k=I.selectAll(".node").data(R).join("g").attr("class","node").attr("id",F=>`node-${F.id}`).attr("transform",F=>`translate(${F.x},${F.y})`).style("cursor","default");k.append("circle").attr("r",12).attr("fill","url(#nodeGradient)").attr("stroke","var(--color-node-stroke)").attr("stroke-width",2),k.append("text").attr("dy","0.35em").attr("y",F=>F.children?-41:28).attr("x",0).attr("text-anchor","middle").style("font-size","14px").style("fill","var(--color-text-node)").style("text-shadow","0 0 2px var(--color-text-shadow)").selectAll("tspan").data(F=>F.data.name.split(`
`)).join("tspan").attr("x",0).attr("dy",(F,q)=>q===0?"0":"1.5em").text(F=>F)});function f(v){ye[v?"unshift":"push"](()=>{i=v,n(0,i)})}function h(){o=qn(this.value),n(1,o)}function _(){s=qn(this.value),n(2,s)}return t.$$set=v=>{"treeData"in v&&n(5,r=v.treeData)},[i,o,s,c,d,r,f,h,_]}class yh extends re{constructor(e){super(),ie(this,e,vh,gh,Kt,{treeData:5})}}function xh(t){let e,n=t[2]("section-interactive-prediction.loading_tree")+"",r,i,a,o=t[2]("section-interactive-prediction.interactive_placeholder")+"",s;return{c(){e=A("p"),r=Z(n),i=W(),a=A("p"),s=Z(o)},l(c){e=N(c,"P",{});var l=w(e);r=Q(l,n),l.forEach(g),i=K(c),a=N(c,"P",{});var p=w(a);s=Q(p,o),p.forEach(g)},m(c,l){X(c,e,l),m(e,r),X(c,i,l),X(c,a,l),m(a,s)},p(c,l){l&4&&n!==(n=c[2]("section-interactive-prediction.loading_tree")+"")&&pt(r,n),l&4&&o!==(o=c[2]("section-interactive-prediction.interactive_placeholder")+"")&&pt(s,o)},i:Ct,o:Ct,d(c){c&&(g(e),g(i),g(a))}}}function wh(t){let e,n;return e=new yh({props:{treeData:t[1]}}),{c(){le(e.$$.fragment)},l(r){ce(e.$$.fragment,r)},m(r,i){ue(e,r,i),n=!0},p(r,i){const a={};i&2&&(a.treeData=r[1]),e.$set(a)},i(r){n||(Lt(e.$$.fragment,r),n=!0)},o(r){Rt(e.$$.fragment,r),n=!1},d(r){fe(e,r)}}}function bh(t){let e,n=t[2]("section-interactive-prediction.loading_tree")+"",r;return{c(){e=A("p"),r=Z(n)},l(i){e=N(i,"P",{});var a=w(e);r=Q(a,n),a.forEach(g)},m(i,a){X(i,e,a),m(e,r)},p(i,a){a&4&&n!==(n=i[2]("section-interactive-prediction.loading_tree")+"")&&pt(r,n)},i:Ct,o:Ct,d(i){i&&g(e)}}}function kh(t){let e,n;return e=new mh({props:{treeData:t[0]}}),{c(){le(e.$$.fragment)},l(r){ce(e.$$.fragment,r)},m(r,i){ue(e,r,i),n=!0},p(r,i){const a={};i&1&&(a.treeData=r[0]),e.$set(a)},i(r){n||(Lt(e.$$.fragment,r),n=!0)},o(r){Rt(e.$$.fragment,r),n=!1},d(r){fe(e,r)}}}function Eh(t){let e,n,r,i,a,o=t[2]("section-understanding.title")+"",s,c,l,p,d=t[2]("section-understanding.intro.welcome",{values:{guide:`<span class="font-semibold">${t[2]("section-understanding.intro.guide")}</span>`,powerful:`<span class="font-semibold">${t[2]("section-understanding.intro.powerful")}</span>`}})+"",f,h,_,v=t[2]("section-understanding.intro.purpose",{values:{visual:`<span class="italic">${t[2]("section-understanding.intro.visual")}</span>`,classification:`<span class="underline">${t[2]("section-understanding.intro.classification")}</span>`,regression:`<span class="underline">${t[2]("section-understanding.intro.regression")}</span>`}})+"",y,x,E,$=t[2]("section-understanding.intro.pruning",{values:{pruningConcept:`<span class="font-semibold">${t[2]("section-understanding.intro.pruningConcept")}</span>`,overfitting:`<span class="italic">${t[2]("section-understanding.intro.overfitting")}</span>`}})+"",b,M,R,B=t[2]("section-understanding.intro.conclusion",{values:{clear:`<span class="font-medium">${t[2]("section-understanding.intro.clear")}</span>`,visual_examples:`<span class="font-medium">${t[2]("section-understanding.intro.visual_examples")}</span>`,demonstrations:`<span class="font-medium">${t[2]("section-understanding.intro.demonstrations")}</span>`}})+"",I,z,C,k=t[2]("section-what-is.title")+"",P,F,q,mt,gt=t[2]("section-what-is.definition",{values:{decision_tree:`<span class="font-semibold">${t[2]("section-what-is.decision_tree")}</span>`,internal_node:`<span class="italic">${t[2]("section-what-is.internal_node")}</span>`,branch:`<span class="italic">${t[2]("section-what-is.branch")}</span>`,leaves:`<span class="font-semibold">${t[2]("section-what-is.leaves")}</span>`,classification:`<span class="underline">${t[2]("section-what-is.classification")}</span>`,regression:`<span class="underline">${t[2]("section-what-is.regression")}</span>`}})+"",G,et,ot,tt=t[2]("section-tree-creation.title")+"",nt,ft,J,_t,ht=t[2]("section-tree-creation.description",{values:{cuts:`<span class="font-semibold">${t[2]("section-tree-creation.cuts")}</span>`}})+"",wt,rt,$t,xt,bt,st,ct,it=t[2]("section-interactive-prediction.title")+"",kt,vt,zt,Et=t[2]("section-prediction.title")+"",Dt,Mt,It,At,V=t[2]("section-prediction.description",{values:{prediction:`<span class="font-semibold">${t[2]("section-prediction.prediction")}</span>`,root_to_leaf:`<span class="italic">${t[2]("section-prediction.root_to_leaf")}</span>`,feature:`<span class="font-mono bg-muted px-1 py-0.5 rounded">${t[2]("section-prediction.feature")}</span>`,corresponding_branch:`<span class="italic">${t[2]("section-prediction.corresponding_branch")}</span>`,unique:`<span class="underline">${t[2]("section-prediction.unique")}</span>`,leaf:`<span class="font-semibold">${t[2]("section-prediction.leaf")}</span>`,fast_interpretable:`<span class="font-medium">${t[2]("section-prediction.fast_interpretable")}</span>`}})+"",D,S,O,L=t[2]("section-interactive-prediction.practice_text")+"",dt,Y,St,ut,H,at,Vt,Nt,Tt,yt,Pt,Bt,ae="Uma forma de ver esses corter é projentando em uma variável, para observar como ocorre a distribuição univariada e cortar no ponto onde é melhor dividida as clases. Abaixo alguns exemplo:",me,Jt,we,qt,Xt,be=t[2]("section-complete-tree.title")+"",ze,Ot,He,an,$n=t[2]("section-complete-tree.description",{values:{accuracy:`<span class="font-semibold">${t[2]("section-complete-tree.accuracy")}</span>`,overfitting:`<span class="italic">${t[2]("section-complete-tree.overfitting")}</span>`}})+"",lr,qe,on,sn=t[2]("section-complete-tree.example_text")+"",Mn,Sn,Me,Zt,Qt,An,De,Xe,Ge,ln=t[2]("footer.developed_by")+"",Nn,Ft;n=new Kf({}),xt=new Of({});const jr=[wh,xh],Se=[];function Wr(T,lt){return T[1]?0:1}St=Wr(t),ut=Se[St]=jr[St](t),Nt=new hh({}),Jt=new lh({});const Kr=[kh,bh],Ae=[];function Jr(T,lt){return T[0]?0:1}return Zt=Jr(t),Qt=Ae[Zt]=Kr[Zt](t),{c(){e=A("div"),le(n.$$.fragment),r=W(),i=A("div"),a=A("h2"),s=Z(o),c=W(),l=A("p"),p=new te(!1),f=W(),h=A("p"),_=new te(!1),y=W(),x=A("p"),E=new te(!1),b=W(),M=A("p"),R=new te(!1),I=W(),z=A("div"),C=A("h2"),P=Z(k),F=W(),q=A("p"),mt=new te(!1),G=W(),et=A("div"),ot=A("h2"),nt=Z(tt),ft=W(),J=A("p"),_t=new te(!1),wt=W(),rt=A("div"),$t=A("div"),le(xt.$$.fragment),bt=W(),st=A("div"),ct=A("h2"),kt=Z(it),vt=W(),zt=A("h3"),Dt=Z(Et),Mt=W(),It=A("p"),At=new te(!1),D=W(),S=A("p"),O=A("b"),dt=Z(L),Y=W(),ut.c(),H=W(),at=A("div"),Vt=A("div"),le(Nt.$$.fragment),Tt=W(),yt=A("div"),Pt=A("div"),Bt=A("p"),Bt.textContent=ae,me=W(),le(Jt.$$.fragment),we=W(),qt=A("div"),Xt=A("h2"),ze=Z(be),Ot=W(),He=A("p"),an=new te(!1),lr=W(),qe=A("p"),on=A("b"),Mn=Z(sn),Sn=W(),Me=A("div"),Qt.c(),An=W(),De=A("footer"),Xe=A("div"),Ge=A("p"),Nn=Z(ln),this.h()},l(T){e=N(T,"DIV",{style:!0});var lt=w(e);ce(n.$$.fragment,lt),lt.forEach(g),r=K(T),i=N(T,"DIV",{class:!0});var Gt=w(i);a=N(Gt,"H2",{class:!0});var Ye=w(a);s=Q(Ye,o),Ye.forEach(g),c=K(Gt),l=N(Gt,"P",{});var Zr=w(l);p=ee(Zr,!1),Zr.forEach(g),f=K(Gt),h=N(Gt,"P",{});var Qr=w(h);_=ee(Qr,!1),Qr.forEach(g),y=K(Gt),x=N(Gt,"P",{});var ti=w(x);E=ee(ti,!1),ti.forEach(g),b=K(Gt),M=N(Gt,"P",{});var ei=w(M);R=ee(ei,!1),ei.forEach(g),Gt.forEach(g),I=K(T),z=N(T,"DIV",{class:!0,style:!0});var Cn=w(z);C=N(Cn,"H2",{class:!0});var ni=w(C);P=Q(ni,k),ni.forEach(g),F=K(Cn),q=N(Cn,"P",{});var ri=w(q);mt=ee(ri,!1),ri.forEach(g),Cn.forEach(g),G=K(T),et=N(T,"DIV",{class:!0});var In=w(et);ot=N(In,"H2",{class:!0});var ii=w(ot);nt=Q(ii,tt),ii.forEach(g),ft=K(In),J=N(In,"P",{});var ai=w(J);_t=ee(ai,!1),ai.forEach(g),In.forEach(g),wt=K(T),rt=N(T,"DIV",{style:!0,class:!0});var oi=w(rt);$t=N(oi,"DIV",{});var si=w($t);ce(xt.$$.fragment,si),si.forEach(g),oi.forEach(g),bt=K(T),st=N(T,"DIV",{class:!0,style:!0});var ge=w(st);ct=N(ge,"H2",{class:!0});var li=w(ct);kt=Q(li,it),li.forEach(g),vt=K(ge),zt=N(ge,"H3",{class:!0});var ci=w(zt);Dt=Q(ci,Et),ci.forEach(g),Mt=K(ge),It=N(ge,"P",{});var ui=w(It);At=ee(ui,!1),ui.forEach(g),D=K(ge),S=N(ge,"P",{});var fi=w(S);O=N(fi,"B",{});var hi=w(O);dt=Q(hi,L),hi.forEach(g),fi.forEach(g),Y=K(ge),ut.l(ge),ge.forEach(g),H=K(T),at=N(T,"DIV",{class:!0});var di=w(at);Vt=N(di,"DIV",{class:!0,style:!0});var pi=w(Vt);ce(Nt.$$.fragment,pi),pi.forEach(g),di.forEach(g),Tt=K(T),yt=N(T,"DIV",{class:!0,style:!0});var mi=w(yt);Pt=N(mi,"DIV",{class:!0});var Tn=w(Pt);Bt=N(Tn,"P",{"data-svelte-h":!0}),Ee(Bt)!=="svelte-1ukg09t"&&(Bt.textContent=ae),me=K(Tn),ce(Jt.$$.fragment,Tn),Tn.forEach(g),mi.forEach(g),we=K(T),qt=N(T,"DIV",{class:!0});var Ue=w(qt);Xt=N(Ue,"H2",{class:!0});var gi=w(Xt);ze=Q(gi,be),gi.forEach(g),Ot=K(Ue),He=N(Ue,"P",{class:!0});var _i=w(He);an=ee(_i,!1),_i.forEach(g),lr=K(Ue),qe=N(Ue,"P",{class:!0});var vi=w(qe);on=N(vi,"B",{});var yi=w(on);Mn=Q(yi,sn),yi.forEach(g),vi.forEach(g),Ue.forEach(g),Sn=K(T),Me=N(T,"DIV",{class:!0});var xi=w(Me);Qt.l(xi),xi.forEach(g),An=K(T),De=N(T,"FOOTER",{class:!0});var wi=w(De);Xe=N(wi,"DIV",{class:!0});var bi=w(Xe);Ge=N(bi,"P",{class:!0});var ki=w(Ge);Nn=Q(ki,ln),ki.forEach(g),bi.forEach(g),wi.forEach(g),this.h()},h(){Ut(e,"background-color","var(--color-background-intro)"),Ut(e,"margin-left","8rem"),u(a,"class","text-3xl font-extrabold mb-6"),p.a=null,_.a=null,E.a=null,R.a=null,u(i,"class","max-w-7xl mx-auto p-6 py-40 text-justify bg-[var(--color-background)] text-[var(--color-text)] transition-colors duration-300 leading-relaxed space-y-6"),u(C,"class","text-3xl font-extrabold mb-6"),mt.a=null,u(z,"class","max-w-7xl mx-auto p-6 pt-20 pb-20 text-justify transition-colors duration-300 leading-relaxed space-y-6"),Ut(z,"background-color","#2e3e5a"),Ut(z,"color","white"),u(ot,"class","text-3xl font-extrabold pb-10"),_t.a=null,u(et,"class","max-w-7xl mx-auto pt-40 pb-10 text-justify transition-colors duration-300 "),Ut(rt,"background-color","var(--color-background)"),u(rt,"class","mt-0 mb-0"),u(ct,"class","text-3xl font-semibold mb-4 py-8"),u(zt,"class","text-xl font-semibold mb-4"),At.a=null,u(st,"class","max-w-7xl mx-auto p-6 pt-0 pb-0 text-justify transition-colors duration-300 leading-relaxed space-y-6"),Ut(st,"background-color","var(--color-background-section)"),u(Vt,"class","max-w-7xl mx-auto p-6 pt-20 pb-20 text-justify transition-colors duration-300 leading-relaxed space-y-6"),Ut(Vt,"color","var(--color-text)"),u(at,"class","scroll-wrapper-default mt-40"),u(Pt,"class","max-w-7xl mx-auto px-6"),u(yt,"class","max-w-7xl mx-auto p-6 pt-20 pb-20 text-justify transition-colors duration-300 leading-relaxed space-y-6"),Ut(yt,"color","var(--color-text)"),u(Xt,"class","text-5xl font-semibold mb-4 py-8"),an.a=null,u(He,"class","text-justify"),u(qe,"class","text-justify"),u(qt,"class","max-w-7xl mx-auto mt-0 p-6 pt-20 pb-0 text-center transition-colors duration-300 leading-relaxed space-y-6"),u(Me,"class","my-19 mt-40 mb-40"),u(Ge,"class","text-xs text-[var(--color-text)]"),u(Xe,"class","max-w-7xl mx-auto px-4 text-center space-y-2"),u(De,"class","bg-[var(--color-background-section)] text-[var(--color-text)] mt-20 pt-4 pb-4 border-t border-gray-600 text-xs")},m(T,lt){X(T,e,lt),ue(n,e,null),X(T,r,lt),X(T,i,lt),m(i,a),m(a,s),m(i,c),m(i,l),p.m(d,l),m(i,f),m(i,h),_.m(v,h),m(i,y),m(i,x),E.m($,x),m(i,b),m(i,M),R.m(B,M),X(T,I,lt),X(T,z,lt),m(z,C),m(C,P),m(z,F),m(z,q),mt.m(gt,q),X(T,G,lt),X(T,et,lt),m(et,ot),m(ot,nt),m(et,ft),m(et,J),_t.m(ht,J),X(T,wt,lt),X(T,rt,lt),m(rt,$t),ue(xt,$t,null),X(T,bt,lt),X(T,st,lt),m(st,ct),m(ct,kt),m(st,vt),m(st,zt),m(zt,Dt),m(st,Mt),m(st,It),At.m(V,It),m(st,D),m(st,S),m(S,O),m(O,dt),m(st,Y),Se[St].m(st,null),X(T,H,lt),X(T,at,lt),m(at,Vt),ue(Nt,Vt,null),X(T,Tt,lt),X(T,yt,lt),m(yt,Pt),m(Pt,Bt),m(Pt,me),ue(Jt,Pt,null),X(T,we,lt),X(T,qt,lt),m(qt,Xt),m(Xt,ze),m(qt,Ot),m(qt,He),an.m($n,He),m(qt,lr),m(qt,qe),m(qe,on),m(on,Mn),X(T,Sn,lt),X(T,Me,lt),Ae[Zt].m(Me,null),X(T,An,lt),X(T,De,lt),m(De,Xe),m(Xe,Ge),m(Ge,Nn),Ft=!0},p(T,[lt]){(!Ft||lt&4)&&o!==(o=T[2]("section-understanding.title")+"")&&pt(s,o),(!Ft||lt&4)&&d!==(d=T[2]("section-understanding.intro.welcome",{values:{guide:`<span class="font-semibold">${T[2]("section-understanding.intro.guide")}</span>`,powerful:`<span class="font-semibold">${T[2]("section-understanding.intro.powerful")}</span>`}})+"")&&p.p(d),(!Ft||lt&4)&&v!==(v=T[2]("section-understanding.intro.purpose",{values:{visual:`<span class="italic">${T[2]("section-understanding.intro.visual")}</span>`,classification:`<span class="underline">${T[2]("section-understanding.intro.classification")}</span>`,regression:`<span class="underline">${T[2]("section-understanding.intro.regression")}</span>`}})+"")&&_.p(v),(!Ft||lt&4)&&$!==($=T[2]("section-understanding.intro.pruning",{values:{pruningConcept:`<span class="font-semibold">${T[2]("section-understanding.intro.pruningConcept")}</span>`,overfitting:`<span class="italic">${T[2]("section-understanding.intro.overfitting")}</span>`}})+"")&&E.p($),(!Ft||lt&4)&&B!==(B=T[2]("section-understanding.intro.conclusion",{values:{clear:`<span class="font-medium">${T[2]("section-understanding.intro.clear")}</span>`,visual_examples:`<span class="font-medium">${T[2]("section-understanding.intro.visual_examples")}</span>`,demonstrations:`<span class="font-medium">${T[2]("section-understanding.intro.demonstrations")}</span>`}})+"")&&R.p(B),(!Ft||lt&4)&&k!==(k=T[2]("section-what-is.title")+"")&&pt(P,k),(!Ft||lt&4)&&gt!==(gt=T[2]("section-what-is.definition",{values:{decision_tree:`<span class="font-semibold">${T[2]("section-what-is.decision_tree")}</span>`,internal_node:`<span class="italic">${T[2]("section-what-is.internal_node")}</span>`,branch:`<span class="italic">${T[2]("section-what-is.branch")}</span>`,leaves:`<span class="font-semibold">${T[2]("section-what-is.leaves")}</span>`,classification:`<span class="underline">${T[2]("section-what-is.classification")}</span>`,regression:`<span class="underline">${T[2]("section-what-is.regression")}</span>`}})+"")&&mt.p(gt),(!Ft||lt&4)&&tt!==(tt=T[2]("section-tree-creation.title")+"")&&pt(nt,tt),(!Ft||lt&4)&&ht!==(ht=T[2]("section-tree-creation.description",{values:{cuts:`<span class="font-semibold">${T[2]("section-tree-creation.cuts")}</span>`}})+"")&&_t.p(ht),(!Ft||lt&4)&&it!==(it=T[2]("section-interactive-prediction.title")+"")&&pt(kt,it),(!Ft||lt&4)&&Et!==(Et=T[2]("section-prediction.title")+"")&&pt(Dt,Et),(!Ft||lt&4)&&V!==(V=T[2]("section-prediction.description",{values:{prediction:`<span class="font-semibold">${T[2]("section-prediction.prediction")}</span>`,root_to_leaf:`<span class="italic">${T[2]("section-prediction.root_to_leaf")}</span>`,feature:`<span class="font-mono bg-muted px-1 py-0.5 rounded">${T[2]("section-prediction.feature")}</span>`,corresponding_branch:`<span class="italic">${T[2]("section-prediction.corresponding_branch")}</span>`,unique:`<span class="underline">${T[2]("section-prediction.unique")}</span>`,leaf:`<span class="font-semibold">${T[2]("section-prediction.leaf")}</span>`,fast_interpretable:`<span class="font-medium">${T[2]("section-prediction.fast_interpretable")}</span>`}})+"")&&At.p(V),(!Ft||lt&4)&&L!==(L=T[2]("section-interactive-prediction.practice_text")+"")&&pt(dt,L);let Gt=St;St=Wr(T),St===Gt?Se[St].p(T,lt):(mn(),Rt(Se[Gt],1,1,()=>{Se[Gt]=null}),gn(),ut=Se[St],ut?ut.p(T,lt):(ut=Se[St]=jr[St](T),ut.c()),Lt(ut,1),ut.m(st,null)),(!Ft||lt&4)&&be!==(be=T[2]("section-complete-tree.title")+"")&&pt(ze,be),(!Ft||lt&4)&&$n!==($n=T[2]("section-complete-tree.description",{values:{accuracy:`<span class="font-semibold">${T[2]("section-complete-tree.accuracy")}</span>`,overfitting:`<span class="italic">${T[2]("section-complete-tree.overfitting")}</span>`}})+"")&&an.p($n),(!Ft||lt&4)&&sn!==(sn=T[2]("section-complete-tree.example_text")+"")&&pt(Mn,sn);let Ye=Zt;Zt=Jr(T),Zt===Ye?Ae[Zt].p(T,lt):(mn(),Rt(Ae[Ye],1,1,()=>{Ae[Ye]=null}),gn(),Qt=Ae[Zt],Qt?Qt.p(T,lt):(Qt=Ae[Zt]=Kr[Zt](T),Qt.c()),Lt(Qt,1),Qt.m(Me,null)),(!Ft||lt&4)&&ln!==(ln=T[2]("footer.developed_by")+"")&&pt(Nn,ln)},i(T){Ft||(Lt(n.$$.fragment,T),Lt(xt.$$.fragment,T),Lt(ut),Lt(Nt.$$.fragment,T),Lt(Jt.$$.fragment,T),Lt(Qt),Ft=!0)},o(T){Rt(n.$$.fragment,T),Rt(xt.$$.fragment,T),Rt(ut),Rt(Nt.$$.fragment,T),Rt(Jt.$$.fragment,T),Rt(Qt),Ft=!1},d(T){T&&(g(e),g(r),g(i),g(I),g(z),g(G),g(et),g(wt),g(rt),g(bt),g(st),g(H),g(at),g(Tt),g(yt),g(we),g(qt),g(Sn),g(Me),g(An),g(De)),fe(n),fe(xt),Se[St].d(),fe(Nt),fe(Jt),Ae[Zt].d()}}}function $h(t,e,n){let r;Fe(t,rn,o=>n(2,r=o));let i=null,a=null;return de(async()=>{const o=await fetch("data/arvore_d3.json");n(0,i=await o.json());const s=await fetch("data/arvore_2d copy.json");n(1,a=await s.json())}),[i,a,r]}class Th extends re{constructor(e){super(),ie(this,e,$h,Eh,Kt,{})}}export{Th as component};
